// Copyright Google Inc. All Rights Reserved.
(function(){'use strict';var h,aa="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},ba;if("function"==typeof Object.setPrototypeOf)ba=Object.setPrototypeOf;else{var ca;a:{var da={ud:!0},ea={};try{ea.__proto__=da;ca=ea.ud;break a}catch(a){}ca=!1}ba=ca?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var fa=ba,k=function(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(fa)fa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Ya=b.prototype},ha="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ia="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:
this,ja=function(){ja=function(){};ia.Symbol||(ia.Symbol=ka)},ka=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}(),ma=function(){ja();var a=ia.Symbol.iterator;a||(a=ia.Symbol.iterator=ia.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ha(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return la(this)}});ma=function(){}},la=function(a){var b=0;return na(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})},na=function(a){ma();a={next:a};
a[ia.Symbol.iterator]=function(){return this};return a},l=function(a){ma();var b=a[Symbol.iterator];return b?b.call(a):la(a)},m=this,n=function(a){return void 0!==a},oa=function(a){return"string"==typeof a},p=function(a){return"number"==typeof a},q=function(){},pa=function(a){a.Cb=void 0;a.fa=function(){return a.Cb?a.Cb:a.Cb=new a}},qa=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==
c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},ra=function(a){return"array"==qa(a)},sa=function(a){return"function"==
qa(a)},ta=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ua=function(a,b,c){return a.call.apply(a.bind,arguments)},va=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},r=function(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?
ua:va;return r.apply(null,arguments)},wa=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},xa=Date.now||function(){return+new Date},t=function(a,b){a=a.split(".");var c=m;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&n(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}},ya=function(a,b){function c(){}c.prototype=b.prototype;a.Ya=b.prototype;a.prototype=
new c;a.prototype.constructor=a;a.vf=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var cast=m.cast||{};t("cast.receiver.VERSION","2.0.0");var za=function(a,b){a=a.toLowerCase();b=b.toLowerCase();return 0==a.indexOf(b)||0==b.indexOf(a)};var Aa=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Aa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};ya(Aa,Error);Aa.prototype.name="CustomError";var Ba=function(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");Aa.call(this,c+a[d])};ya(Ba,Aa);Ba.prototype.name="AssertionError";
var Ca=function(a,b,c,d){var e="Assertion failed";if(c){e+=": "+c;var f=d}else a&&(e+=": "+a,f=b);throw new Ba(""+e,f||[]);},v=function(a,b,c){a||Ca("",null,b,Array.prototype.slice.call(arguments,2))},Da=function(a,b){throw new Ba("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));},Ea=function(a,b,c){p(a)||Ca("Expected number but got %s: %s.",[qa(a),a],b,Array.prototype.slice.call(arguments,2));return a},Fa=function(a,b,c){sa(a)||Ca("Expected function but got %s: %s.",[qa(a),a],b,Array.prototype.slice.call(arguments,
2))};var Ga=Array.prototype.indexOf?function(a,b){v(null!=a.length);return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(oa(a))return oa(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ha=Array.prototype.lastIndexOf?function(a,b){v(null!=a.length);return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if(oa(a))return oa(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in
a&&a[c]===b)return c;return-1},Ja=function(a,b){b=Ga(a,b);var c;(c=0<=b)&&Ia(a,b);return c},Ia=function(a,b){v(null!=a.length);Array.prototype.splice.call(a,b,1)},La=function(a,b,c,d){v(null!=a.length);return Array.prototype.splice.apply(a,Ka(arguments,1))},Ka=function(a,b,c){v(null!=a.length);return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};var Na=function(a,b){return 0==Ma(b,a.substr(0,b.length))},Oa=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Ma=function(a,b){a=String(a).toLowerCase();b=String(b).toLowerCase();return a<b?-1:a==b?0:1},Pa=function(a,b){return a<b?-1:a>b?1:0};var Qa;a:{var Ra=m.navigator;if(Ra){var Sa=Ra.userAgent;if(Sa){Qa=Sa;break a}}Qa=""}var w=function(a){return-1!=Qa.indexOf(a)};var Ta=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Ua=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1},Va=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Wa=function(a,b){return null!==a&&b in a},Xa=function(a){var b={},c;for(c in a)b[c]=a[c];return b},Ya=function(a){var b=qa(a);if("object"==b||"array"==b){if(sa(a.clone))return a.clone();b="array"==b?[]:{};for(var c in a)b[c]=Ya(a[c]);return b}return a},Za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),
$a=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Za.length;f++)c=Za[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var ab=function(a){ab[" "](a);return a};ab[" "]=q;var bb=w("Opera"),cb=w("Trident")||w("MSIE"),db=w("Edge"),eb=w("Gecko")&&!(-1!=Qa.toLowerCase().indexOf("webkit")&&!w("Edge"))&&!(w("Trident")||w("MSIE"))&&!w("Edge"),fb=-1!=Qa.toLowerCase().indexOf("webkit")&&!w("Edge"),gb=function(){var a=m.document;return a?a.documentMode:void 0},hb;
a:{var ib="",jb=function(){var a=Qa;if(eb)return/rv:([^\);]+)(\)|;)/.exec(a);if(db)return/Edge\/([\d\.]+)/.exec(a);if(cb)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(fb)return/WebKit\/(\S+)/.exec(a);if(bb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();jb&&(ib=jb?jb[1]:"");if(cb){var kb=gb();if(null!=kb&&kb>parseFloat(ib)){hb=String(kb);break a}}hb=ib}var lb=hb,mb={},nb;var ob=m.document;nb=ob&&cb?gb()||("CSS1Compat"==ob.compatMode?parseInt(lb,10):5):void 0;var pb=Object.freeze||function(a){return a};var qb=function(a,b,c){this.reset(a,b,c,void 0,void 0)};qb.prototype.Ea=0;qb.prototype.bc=null;var rb=0;qb.prototype.reset=function(a,b,c,d,e){this.Ea="number"==typeof e?e:rb++;this.pd=d||xa();this.sa=a;this.Ee=b;this.Mc=c;delete this.bc};qb.prototype.xc=function(a){this.sa=a};var sb=function(a){this.Qc=a;this.gb=this.Xb=this.sa=this.M=null},x=function(a,b){this.name=a;this.value=b};x.prototype.toString=function(){return this.name};
var tb=new x("SHOUT",1200),ub=new x("SEVERE",1E3),vb=new x("WARNING",900),wb=new x("INFO",800),xb=new x("CONFIG",700),yb=new x("FINE",500),y=new x("FINER",400),zb=[new x("OFF",Infinity),tb,ub,vb,wb,xb,yb,y,new x("FINEST",300),new x("ALL",0)],Ab=null,Bb=function(a){if(!Ab){Ab={};for(var b=0,c;c=zb[b];b++)Ab[c.value]=c,Ab[c.name]=c}if(a in Ab)return Ab[a];for(b=0;b<zb.length;++b)if(c=zb[b],c.value<=a)return c;return null};sb.prototype.getName=function(){return this.Qc};sb.prototype.getParent=function(){return this.M};
sb.prototype.xc=function(a){this.sa=a};var Cb=function(a){if(a.sa)return a.sa;if(a.M)return Cb(a.M);Da("Root logger has no level set.");return null};sb.prototype.log=function(a,b,c){if(a.value>=Cb(this).value)for(sa(b)&&(b=b()),a=new qb(a,String(b),this.Qc),c&&(a.bc=c),c=this;c;){var d=c,e=a;if(d.gb)for(var f=0;b=d.gb[f];f++)b(e);c=c.getParent()}};sb.prototype.info=function(a,b){this.log(wb,a,b)};
var Db={},Eb=null,Fb=function(){Eb||(Eb=new sb(""),Db[""]=Eb,Eb.xc(xb))},z=function(a){Fb();var b;if(!(b=Db[a])){b=new sb(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=z(a.substr(0,c));c.Xb||(c.Xb={});c.Xb[d]=b;b.M=c;Db[a]=b}return b};var A=function(a,b,c){a&&a.log(b,c,void 0)},B=function(a,b){a&&a.log(ub,b,void 0)},C=function(a,b){a&&a.log(vb,b,void 0)},D=function(a,b){a&&a.info(b,void 0)},Gb=function(a,b){a&&a.log(yb,b,void 0)};var E=function(){this.ab=this.ab;this.va=this.va};E.prototype.ab=!1;E.prototype.O=function(){this.ab||(this.ab=!0,this.D())};var Hb=function(a,b){a.ab?n(void 0)?b.call(void 0):b():(a.va||(a.va=[]),a.va.push(n(void 0)?r(b,void 0):b))};E.prototype.D=function(){if(this.va)for(;this.va.length;)this.va.shift()()};var Ib=function(a){a&&"function"==typeof a.O&&a.O()};var G=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Ba=!1;this.cd=!0};G.prototype.stopPropagation=function(){this.Ba=!0};G.prototype.preventDefault=function(){this.defaultPrevented=!0;this.cd=!1};var Jb;(Jb=!cb)||(Jb=9<=Number(nb));var Kb=Jb,Lb;
if(Lb=cb){var Mb;if(Object.prototype.hasOwnProperty.call(mb,"9"))Mb=mb["9"];else{for(var Nb=0,Ob=Oa(String(lb)).split("."),Pb=Oa("9").split("."),Qb=Math.max(Ob.length,Pb.length),Rb=0;0==Nb&&Rb<Qb;Rb++){var Sb=Ob[Rb]||"",Tb=Pb[Rb]||"";do{var Ub=/(\d*)(\D*)(.*)/.exec(Sb)||["","","",""],Vb=/(\d*)(\D*)(.*)/.exec(Tb)||["","","",""];if(0==Ub[0].length&&0==Vb[0].length)break;Nb=Pa(0==Ub[1].length?0:parseInt(Ub[1],10),0==Vb[1].length?0:parseInt(Vb[1],10))||Pa(0==Ub[2].length,0==Vb[2].length)||Pa(Ub[2],Vb[2]);
Sb=Ub[3];Tb=Vb[3]}while(0==Nb)}Mb=mb["9"]=0<=Nb}Lb=!Mb}var Wb=Lb,Xb=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});m.addEventListener("test",q,b);m.removeEventListener("test",q,b);return a}();var Zb=function(a,b){G.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.Ka=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(eb){a:{try{ab(b.nodeName);
var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=fb||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=fb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,
this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType=oa(a.pointerType)?a.pointerType:Yb[a.pointerType]||"";this.state=a.state;this.Ka=a;a.defaultPrevented&&this.preventDefault()}};ya(Zb,G);var Yb=pb({2:"touch",3:"pen",4:"mouse"});
Zb.prototype.stopPropagation=function(){Zb.Ya.stopPropagation.call(this);this.Ka.stopPropagation?this.Ka.stopPropagation():this.Ka.cancelBubble=!0};Zb.prototype.preventDefault=function(){Zb.Ya.preventDefault.call(this);var a=this.Ka;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Wb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var $b="closure_listenable_"+(1E6*Math.random()|0),ac=function(a){return!(!a||!a[$b])},bc=0;var cc=function(a,b,c,d,e){this.listener=a;this.Lb=null;this.src=b;this.type=c;this.capture=!!d;this.Ab=e;this.key=++bc;this.Va=this.vb=!1},dc=function(a){a.Va=!0;a.listener=null;a.Lb=null;a.src=null;a.Ab=null};var ec=function(a){this.src=a;this.A={};this.pb=0};ec.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.A[f];a||(a=this.A[f]=[],this.pb++);var g=fc(a,b,d,e);-1<g?(b=a[g],c||(b.vb=!1)):(b=new cc(b,this.src,f,!!d,e),b.vb=c,a.push(b));return b};ec.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.A))return!1;var e=this.A[a];b=fc(e,b,c,d);return-1<b?(dc(e[b]),Ia(e,b),0==e.length&&(delete this.A[a],this.pb--),!0):!1};
var gc=function(a,b){var c=b.type;c in a.A&&Ja(a.A[c],b)&&(dc(b),0==a.A[c].length&&(delete a.A[c],a.pb--))};ec.prototype.vc=function(a){a=a&&a.toString();var b=0,c;for(c in this.A)if(!a||c==a){for(var d=this.A[c],e=0;e<d.length;e++)++b,dc(d[e]);delete this.A[c];this.pb--}};ec.prototype.fb=function(a,b,c,d){a=this.A[a.toString()];var e=-1;a&&(e=fc(a,b,c,d));return-1<e?a[e]:null};
ec.prototype.hasListener=function(a,b){var c=n(a),d=c?a.toString():"",e=n(b);return Ua(this.A,function(a){for(var f=0;f<a.length;++f)if(!(c&&a[f].type!=d||e&&a[f].capture!=b))return!0;return!1})};var fc=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Va&&f.listener==b&&f.capture==!!c&&f.Ab==d)return e}return-1};var hc="closure_lm_"+(1E6*Math.random()|0),ic={},jc=0,H=function(a,b,c,d,e){if(d&&d.once)return kc(a,b,c,d,e);if(ra(b)){for(var f=0;f<b.length;f++)H(a,b[f],c,d,e);return null}c=lc(c);return ac(a)?a.Ra(b,c,ta(d)?!!d.capture:!!d,e):mc(a,b,c,!1,d,e)},mc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=ta(e)?!!e.capture:!!e,u=nc(a);u||(a[hc]=u=new ec(a));c=u.add(b,c,d,g,f);if(c.Lb)return c;d=oc();c.Lb=d;d.src=a;d.listener=c;if(a.addEventListener)Xb||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),
d,e);else if(a.attachEvent)a.attachEvent(pc(b.toString()),d);else if(a.addListener&&a.removeListener)v("change"===b,"MediaQueryList only has a change event"),a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");jc++;return c},oc=function(){var a=qc,b=Kb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},kc=function(a,b,c,d,e){if(ra(b)){for(var f=0;f<b.length;f++)kc(a,b[f],c,d,e);return null}c=lc(c);return ac(a)?
a.Lc(b,c,ta(d)?!!d.capture:!!d,e):mc(a,b,c,!0,d,e)},I=function(a,b,c,d,e){if(ra(b))for(var f=0;f<b.length;f++)I(a,b[f],c,d,e);else d=ta(d)?!!d.capture:!!d,c=lc(c),ac(a)?a.qb(b,c,d,e):a&&(a=nc(a))&&(b=a.fb(b,c,d,e))&&rc(b)},rc=function(a){if(!p(a)&&a&&!a.Va){var b=a.src;if(ac(b))gc(b.P,a);else{var c=a.type,d=a.Lb;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(pc(c),d):b.addListener&&b.removeListener&&b.removeListener(d);jc--;(c=nc(b))?(gc(c,a),0==c.pb&&(c.src=
null,b[hc]=null)):dc(a)}}},pc=function(a){return a in ic?ic[a]:ic[a]="on"+a},tc=function(a,b,c,d){var e=!0;if(a=nc(a))if(b=a.A[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.Va&&(f=sc(f,d),e=e&&!1!==f)}return e},sc=function(a,b){var c=a.listener,d=a.Ab||a.src;a.vb&&rc(a);return c.call(d,b)},uc=function(a,b){v(ac(a),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance.");return a.dispatchEvent(b)},qc=function(a,b){if(a.Va)return!0;if(!Kb){if(!b)a:{b=
["window","event"];for(var c=m,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new Zb(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Ba&&0<=e;e--){b.currentTarget=d[e];var f=tc(d[e],a,!0,b);c=c&&f}for(e=0;!b.Ba&&e<d.length;e++)b.currentTarget=d[e],f=tc(d[e],a,!1,b),c=c&&f}return c}return sc(a,
new Zb(b,this))},nc=function(a){a=a[hc];return a instanceof ec?a:null},vc="__closure_events_fn_"+(1E9*Math.random()>>>0),lc=function(a){v(a,"Listener can not be null.");if(sa(a))return a;v(a.handleEvent,"An object listener must have handleEvent method.");a[vc]||(a[vc]=function(b){return a.handleEvent(b)});return a[vc]};var J=function(){E.call(this);this.P=new ec(this);this.vd=this;this.uc=null};ya(J,E);J.prototype[$b]=!0;h=J.prototype;h.addEventListener=function(a,b,c,d){H(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){I(this,a,b,c,d)};
h.dispatchEvent=function(a){wc(this);var b=this.uc;if(b){var c=[];for(var d=1;b;b=b.uc)c.push(b),v(1E3>++d,"infinite loop")}b=this.vd;d=a.type||a;if(oa(a))a=new G(a,b);else if(a instanceof G)a.target=a.target||b;else{var e=a;a=new G(d,b);$a(a,e)}e=!0;if(c)for(var f=c.length-1;!a.Ba&&0<=f;f--){var g=a.currentTarget=c[f];e=xc(g,d,!0,a)&&e}a.Ba||(g=a.currentTarget=b,e=xc(g,d,!0,a)&&e,a.Ba||(e=xc(g,d,!1,a)&&e));if(c)for(f=0;!a.Ba&&f<c.length;f++)g=a.currentTarget=c[f],e=xc(g,d,!1,a)&&e;return e};
h.D=function(){J.Ya.D.call(this);this.P&&this.P.vc(void 0);this.uc=null};h.Ra=function(a,b,c,d){wc(this);return this.P.add(String(a),b,!1,c,d)};h.Lc=function(a,b,c,d){return this.P.add(String(a),b,!0,c,d)};h.qb=function(a,b,c,d){this.P.remove(String(a),b,c,d)};var xc=function(a,b,c,d){b=a.P.A[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Va&&g.capture==c){var u=g.listener,K=g.Ab||g.src;g.vb&&gc(a.P,g);e=!1!==u.call(K,d)&&e}}return e&&0!=d.cd};
J.prototype.fb=function(a,b,c,d){return this.P.fb(String(a),b,c,d)};J.prototype.hasListener=function(a,b){return this.P.hasListener(n(a)?String(a):void 0,b)};var wc=function(a){v(a.P,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var L=function(a,b){this.Da=b;this.ic=!0;this.Ja=a;this.onClose=this.onMessage=null;this.j=new J;this.Ja.addEventListener(this.Da,this.Kb.bind(this))};t("cast.receiver.CastChannel",L);L.prototype.ea=function(){return"CastChannel["+this.Da+" "+this.Ja.pa()+"]"};L.prototype.pa=function(){return this.Ja.pa()};L.prototype.getNamespace=L.prototype.pa;L.prototype.te=function(){return this.Da};L.prototype.getSenderId=L.prototype.te;
L.prototype.Kb=function(a){A(yc,y,"Dispatching CastChannel message ["+this.Ja.pa()+", "+this.Da+"]: "+a.data);a=new zc("message",a.data);if(this.onMessage)this.onMessage(a);this.c(a)};L.prototype.close=function(){if(this.ic){this.ic=!1;D(yc,"Closing CastChannel ["+this.Ja.pa()+", "+this.Da+"]");var a=new zc("close",this.Da);if(this.onClose)this.onClose(a);this.c(a);this.j.O();A(yc,y,"Disposed "+this.ea())}};
L.prototype.send=function(a){if(!this.ic)throw Error("Invalid state, socket not open");this.Ja.send(this.Da,a)};L.prototype.send=L.prototype.send;L.prototype.addEventListener=function(a,b){H(this.j,a,b)};L.prototype.addEventListener=L.prototype.addEventListener;L.prototype.removeEventListener=function(a,b){I(this.j,a,b)};L.prototype.removeEventListener=L.prototype.removeEventListener;L.prototype.c=function(a){a.target=this;return uc(this.j,a)};L.prototype.dispatchEvent=function(a){return this.c(a)};
L.prototype.dispatchEvent=L.prototype.dispatchEvent;L.EventType={MESSAGE:"message",CLOSE:"close"};var zc=function(a,b){G.call(this,a);this.message=b};k(zc,G);L.Event=zc;var yc=z("cast.receiver.CastChannel");var Ac=function(a,b){this.Be=100;this.Cd=a;this.Pe=b;this.Ib=0;this.Bb=null};Ac.prototype.get=function(){if(0<this.Ib){this.Ib--;var a=this.Bb;this.Bb=a.next;a.next=null}else a=this.Cd();return a};Ac.prototype.put=function(a){this.Pe(a);this.Ib<this.Be&&(this.Ib++,a.next=this.Bb,this.Bb=a)};var Bc=function(a){m.setTimeout(function(){throw a;},0)},Cc,Dc=function(){var a=m.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!w("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow;a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host;
a=r(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!w("Trident")&&!w("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(n(c.next)){c=c.next;var a=c.Ac;c.Ac=null;a()}};return function(a){d.next={Ac:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?
function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){m.setTimeout(a,0)}};var Ec=function(){this.Sb=this.Ha=null},Gc=new Ac(function(){return new Fc},function(a){a.reset()});Ec.prototype.add=function(a,b){var c=Gc.get();c.set(a,b);this.Sb?this.Sb.next=c:(v(!this.Ha),this.Ha=c);this.Sb=c};Ec.prototype.remove=function(){var a=null;this.Ha&&(a=this.Ha,this.Ha=this.Ha.next,this.Ha||(this.Sb=null),a.next=null);return a};var Fc=function(){this.next=this.scope=this.dc=null};Fc.prototype.set=function(a,b){this.dc=a;this.scope=b;this.next=null};
Fc.prototype.reset=function(){this.next=this.scope=this.dc=null};var Lc=function(a,b){Hc||Ic();Jc||(Hc(),Jc=!0);Kc.add(a,b)},Hc,Ic=function(){if(-1!=String(m.Promise).indexOf("[native code]")){var a=m.Promise.resolve(void 0);Hc=function(){a.then(Mc)}}else Hc=function(){var a=Mc;!sa(m.setImmediate)||m.Window&&m.Window.prototype&&!w("Edge")&&m.Window.prototype.setImmediate==m.setImmediate?(Cc||(Cc=Dc()),Cc(a)):m.setImmediate(a)}},Jc=!1,Kc=new Ec,Mc=function(){for(var a;a=Kc.remove();){try{a.dc.call(a.scope)}catch(b){Bc(b)}Gc.put(a)}Jc=!1};var M=function(a){this.G=0;this.ad=void 0;this.Ia=this.Z=this.M=null;this.zb=this.cc=!1;if(a!=q)try{var b=this;a.call(void 0,function(a){Nc(b,2,a)},function(a){if(!(a instanceof Oc))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(d){}Nc(b,3,a)})}catch(c){Nc(this,3,c)}},Pc=function(){this.next=this.context=this.Sa=this.wa=this.na=null;this.ub=!1};Pc.prototype.reset=function(){this.context=this.Sa=this.wa=this.na=null;this.ub=!1};
var Qc=new Ac(function(){return new Pc},function(a){a.reset()}),Rc=function(a,b,c){var d=Qc.get();d.wa=a;d.Sa=b;d.context=c;return d},Sc=function(){var a=new M(q);Nc(a,2,void 0);return a};M.prototype.then=function(a,b,c){null!=a&&Fa(a,"opt_onFulfilled should be a function.");null!=b&&Fa(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return Tc(this,sa(a)?a:null,sa(b)?b:null,c)};M.prototype.then=M.prototype.then;
M.prototype.$goog_Thenable=!0;M.prototype.cancel=function(a){0==this.G&&Lc(function(){var b=new Oc(a);Uc(this,b)},this)};
var Uc=function(a,b){if(0==a.G)if(a.M){var c=a.M;if(c.Z){for(var d=0,e=null,f=null,g=c.Z;g&&(g.ub||(d++,g.na==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.G&&1==d?Uc(c,b):(f?(d=f,v(c.Z),v(null!=d),d.next==c.Ia&&(c.Ia=d),d.next=d.next.next):Vc(c),Wc(c,e,3,b)))}a.M=null}else Nc(a,3,b)},Yc=function(a,b){a.Z||2!=a.G&&3!=a.G||Xc(a);v(null!=b.wa);a.Ia?a.Ia.next=b:a.Z=b;a.Ia=b},Tc=function(a,b,c,d){var e=Rc(null,null,null);e.na=new M(function(a,g){e.wa=b?function(c){try{var e=b.call(d,c);a(e)}catch(F){g(F)}}:
a;e.Sa=c?function(b){try{var e=c.call(d,b);!n(e)&&b instanceof Oc?g(b):a(e)}catch(F){g(F)}}:g});e.na.M=a;Yc(a,e);return e.na};M.prototype.ef=function(a){v(1==this.G);this.G=0;Nc(this,2,a)};M.prototype.ff=function(a){v(1==this.G);this.G=0;Nc(this,3,a)};
var Nc=function(a,b,c){if(0==a.G){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.G=1;a:{var d=c,e=a.ef,f=a.ff;if(d instanceof M){null!=e&&Fa(e,"opt_onFulfilled should be a function.");null!=f&&Fa(f,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");Yc(d,Rc(e||q,f||null,a));var g=!0}else{if(d)try{var u=!!d.$goog_Thenable}catch(F){u=!1}else u=!1;if(u)d.then(e,f,a),g=!0;else{if(ta(d))try{var K=d.then;if(sa(K)){Zc(d,K,e,f,
a);g=!0;break a}}catch(F){f.call(a,F);g=!0;break a}g=!1}}}g||(a.ad=c,a.G=b,a.M=null,Xc(a),3!=b||c instanceof Oc||$c(a,c))}},Zc=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=!0,c.call(e,a))},u=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,u)}catch(K){u(K)}},Xc=function(a){a.cc||(a.cc=!0,Lc(a.he,a))},Vc=function(a){var b=null;a.Z&&(b=a.Z,a.Z=b.next,b.next=null);a.Z||(a.Ia=null);null!=b&&v(null!=b.wa);return b};
M.prototype.he=function(){for(var a;a=Vc(this);)Wc(this,a,this.G,this.ad);this.cc=!1};var Wc=function(a,b,c,d){if(3==c&&b.Sa&&!b.ub)for(;a&&a.zb;a=a.M)a.zb=!1;if(b.na)b.na.M=null,ad(b,c,d);else try{b.ub?b.wa.call(b.context):ad(b,c,d)}catch(e){bd.call(null,e)}Qc.put(b)},ad=function(a,b,c){2==b?a.wa.call(a.context,c):a.Sa&&a.Sa.call(a.context,c)},$c=function(a,b){a.zb=!0;Lc(function(){a.zb&&bd.call(null,b)})},bd=Bc,Oc=function(a){Aa.call(this,a)};ya(Oc,Aa);Oc.prototype.name="cancel";var cd=function(a,b,c){if(sa(a))c&&(a=r(a,c));else if(a&&"function"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:m.setTimeout(a,b||0)};var ed=function(a,b){J.call(this);"object"!=typeof a&&(a={xd:a,qe:b});this.yd=0!=a.xd;this.fc=a.qe||dd;this.zd=a.binaryType||"blob";this.Hb=this.fc(this.nb)};ya(ed,J);h=ed.prototype;h.C=null;h.ba=null;h.Ua=void 0;h.Yb=!1;h.nb=0;h.Ca=null;h.J=z("goog.net.WebSocket");var dd=function(a){return Math.min(1E3*Math.pow(2,a),6E4)};h=ed.prototype;
h.open=function(a,b){v(m.WebSocket,"This browser does not support WebSocket");v(!this.hb(),"The WebSocket is already open");null!=this.Ca&&m.clearTimeout(this.Ca);this.Ca=null;this.ba=a;(this.Ua=b)?(D(this.J,"Opening the WebSocket on "+this.ba+" with protocol "+this.Ua),this.C=new WebSocket(this.ba,this.Ua)):(D(this.J,"Opening the WebSocket on "+this.ba),this.C=new WebSocket(this.ba));this.C.binaryType=this.zd;this.C.onopen=r(this.He,this);this.C.onclose=r(this.Ge,this);this.C.onmessage=r(this.F,
this);this.C.onerror=r(this.nc,this)};h.close=function(){null!=this.Ca&&m.clearTimeout(this.Ca);this.Ca=null;this.C&&(D(this.J,"Closing the WebSocket."),this.Yb=!0,this.C.close(),this.C=null)};h.send=function(a){v(this.hb(),"Cannot send without an open socket");this.C.send(a)};h.hb=function(){return!!this.C&&1==this.C.readyState};h.He=function(){D(this.J,"WebSocket opened on "+this.ba);this.dispatchEvent("d");this.nb=0;this.Hb=this.fc(this.nb)};
h.Ge=function(a){D(this.J,"The WebSocket on "+this.ba+" closed.");this.dispatchEvent("a");this.C=null;this.Yb?(D(this.J,"The WebSocket closed normally."),this.ba=null,this.Ua=void 0):(B(this.J,"The WebSocket disconnected unexpectedly: "+a.data),this.yd&&(D(this.J,"Seconds until next reconnect attempt: "+Math.floor(this.Hb/1E3)),this.Ca=cd(r(this.open,this,this.ba,this.Ua),this.Hb,this),this.nb++,this.Hb=this.fc(this.nb)));this.Yb=!1};h.F=function(a){this.dispatchEvent(new fd(a.data))};
h.nc=function(a){a=a.data;B(this.J,"An error occurred: "+a);this.dispatchEvent(new gd(a))};h.D=function(){ed.Ya.D.call(this);this.close()};var fd=function(a){G.call(this,"c");this.message=a};ya(fd,G);var gd=function(a){G.call(this,"b");this.data=a};ya(gd,G);t("cast.receiver.platform.PlatformValueKey",{pf:"port-for-web-server",kf:"log-level-cast-receiver",lf:"max-video-resolution-vpx",jf:"device-model",gf:"cast-receiver-version",tf:"system-version",uf:"volume-controllable"});var hd={"port-for-web-server":"8008"},id=function(a){return cast.__platform__.canDisplayType(a)};t("cast.receiver.platform.canDisplayType",id);cast.__platform__&&cast.__platform__.canDisplayType||delete window.cast.receiver.platform.canDisplayType;
t("cast.receiver.platform.VideoResolution",function(){});var jd=function(a){if(cast.__platform__&&cast.__platform__.queryPlatformValue)return cast.__platform__.queryPlatformValue(a);if(a in hd)return hd[a]};t("cast.receiver.platform.getValue",jd);t("cast.receiver.platform.getHdcpVersion",function(){return cast.__platform__&&cast.__platform__.display&&cast.__platform__.display.getHdcpVersion?cast.__platform__.display.getHdcpVersion():Promise.reject(Error("getHdcpVersion is not available"))});
var kd=function(){this.j=new J;this.ya=!1};h=kd.prototype;h.eb=function(){return"PlatformChannel"};h.open=function(){this.ya?B(ld,this.eb()+" Already open"):cast.__platform__.channel.open(r(this.rc,this),r(this.F,this))};h.close=function(){this.ya?cast.__platform__.channel.close(r(this.lc,this)):B(ld,this.eb()+" Cannot close unopened channel")};h.hb=function(){return this.ya};h.send=function(a){v(this.ya,"Cannot send until channel is openned");cast.__platform__.channel.send(a)};
h.rc=function(a){this.ya=a;this.c(a?"d":"b")};h.lc=function(){this.ya&&(this.ya=!1,this.c("a"))};h.F=function(a){this.c(new fd(a))};h.addEventListener=function(a,b){this.j.Ra(a,b)};h.removeEventListener=function(a,b){this.j.qb(a,b)};h.c=function(a){a=oa(a)?new G(a):a;a.target=this;this.j.dispatchEvent(a)};var ld=z("cast.receiver.platform.WebSocket");t("cast.receiver.system.NAMESPACE_PREFIX","urn:x-cast:");t("cast.receiver.system.ApplicationData",function(){this.name=this.id="";this.sessionId=0;this.namespaces=[];this.launchingSenderId=""});t("cast.receiver.system.SystemVolumeData",function(){this.level=1;this.muted=!1});t("cast.receiver.system.Sender",function(){this.userAgent=this.id="";this.largeMessageSupported=void 0});t("cast.receiver.system.VisibilityState",{VISIBLE:"visible",NOT_VISIBLE:"notvisible",UNKNOWN:"unknown"});
t("cast.receiver.system.StandbyState",{STANDBY:"standby",NOT_STANDBY:"notstandby",UNKNOWN:"unknown"});t("cast.receiver.system.SystemState",{NOT_STARTED:"notstarted",STARTING_IN_BACKGROUND:"startinginbackground",STARTING:"starting",READY:"ready",STOPPING_IN_BACKGROUND:"stoppinginbackground",STOPPING:"stopping"});var od=function(){this.T=null;cast.__platform__&&cast.__platform__.channel?(D(md,"Opening platform websocket"),nd(this,new kd)):(D(md,"Opening net websocket"),nd(this,new ed(!0)));this.j=new J};t("cast.receiver.IpcChannel",od);od.prototype.eb=function(){return"IpcChannel"};
var nd=function(a,b){a.T&&a.T.O();a.T=b;a.T.addEventListener("d",a.rc.bind(a));a.T.addEventListener("a",a.lc.bind(a));a.T.addEventListener("b",a.nc.bind(a));a.T.addEventListener("c",a.F.bind(a))},qd=function(a,b){Gb(md,a.eb()+" "+b);a.c(new pd("urn:x-cast:com.google.cast.system","SystemSender",JSON.stringify({type:b})))};h=od.prototype;h.rc=function(){qd(this,"opened")};h.lc=function(){qd(this,"closed")};h.nc=function(){qd(this,"error")};
h.F=function(a){Gb(md,"Received message: "+a.message);var b=(a=JSON.parse(a.message))&&a.namespace;a&&b&&a.senderId&&a.data?this.c(new pd(b,a.senderId,a.data)):B(md,this.eb()+" Message received is invalid")};h.open=function(){D(md,"Opening message bus websocket");this.T.open("ws://localhost:"+jd("port-for-web-server")+"/v2/ipc")};h.close=function(){D(md,"Closing message bus websocket");this.T.close()};h.hb=function(){return this.T.hb()};
h.send=function(a,b,c){a=JSON.stringify({namespace:a,senderId:b,data:c});Gb(md,"IPC message sent: "+a);this.T.send(a)};h.addEventListener=function(a,b){this.j.Ra(a,b)};h.removeEventListener=function(a,b){this.j.qb(a,b)};h.c=function(a){a.target=this;this.j.dispatchEvent(a)};var md=z("cast.receiver.IpcChannel"),pd=function(a,b,c){G.call(this,a);this.senderId=b;this.data=c};k(pd,G);var rd=/dv(he|av).[s|d|p][e|t|w][n|r|h|b][a|h]?[e|t|w]?/;t("cast.receiver.media.MEDIA_NAMESPACE","urn:x-cast:com.google.cast.media");t("cast.receiver.media.HlsSegmentFormat",{AAC:"aac",AC3:"ac3",MP3:"mp3",TS:"ts",TS_AAC:"ts_aac"});t("cast.receiver.media.StreamType",{BUFFERED:"BUFFERED",LIVE:"LIVE",NONE:"NONE"});
t("cast.receiver.media.MessageType",{mf:"MEDIA_STATUS",hf:"CLOUD_STATUS",qf:"QUEUE_CHANGE",rf:"QUEUE_ITEMS",sf:"QUEUE_ITEM_IDS",GET_STATUS:"GET_STATUS",LOAD:"LOAD",PAUSE:"PAUSE",STOP:"STOP",SKIP_AD:"SKIP_AD",PLAY:"PLAY",PLAY_AGAIN:"PLAY_AGAIN",SEEK:"SEEK",SET_PLAYBACK_RATE:"SET_PLAYBACK_RATE",SET_VOLUME:"SET_VOLUME",EDIT_TRACKS_INFO:"EDIT_TRACKS_INFO",EDIT_AUDIO_TRACKS:"EDIT_AUDIO_TRACKS",PRELOAD:"PRELOAD",CANCEL_PRELOAD:"CANCEL_PRELOAD",PRECACHE:"PRECACHE",QUEUE_LOAD:"QUEUE_LOAD",QUEUE_INSERT:"QUEUE_INSERT",
QUEUE_UPDATE:"QUEUE_UPDATE",QUEUE_REMOVE:"QUEUE_REMOVE",QUEUE_REORDER:"QUEUE_REORDER",QUEUE_NEXT:"QUEUE_NEXT",QUEUE_PREV:"QUEUE_PREV",QUEUE_GET_ITEM_RANGE:"QUEUE_GET_ITEM_RANGE",QUEUE_GET_ITEMS:"QUEUE_GET_ITEMS",QUEUE_GET_ITEM_IDS:"QUEUE_GET_ITEM_IDS",QUEUE_SHUFFLE:"QUEUE_SHUFFLE"});t("cast.receiver.media.HdrType",{SDR:"sdr",HDR:"hdr",DV:"dv"});
t("cast.receiver.media.ErrorType",{INVALID_PLAYER_STATE:"INVALID_PLAYER_STATE",LOAD_FAILED:"LOAD_FAILED",LOAD_CANCELLED:"LOAD_CANCELLED",INVALID_REQUEST:"INVALID_REQUEST",ERROR:"ERROR"});t("cast.receiver.media.ErrorReason",{INVALID_COMMAND:"INVALID_COMMAND",INVALID_PARAMS:"INVALID_PARAMS",INVALID_MEDIA_SESSION_ID:"INVALID_MEDIA_SESSION_ID",SKIP_LIMIT_REACHED:"SKIP_LIMIT_REACHED",NOT_SUPPORTED:"NOT_SUPPORTED",LANGUAGE_NOT_SUPPORTED:"LANGUAGE_NOT_SUPPORTED",END_OF_QUEUE:"END_OF_QUEUE",DUPLICATE_REQUEST_ID:"DUPLICATE_REQUEST_ID"});
t("cast.receiver.media.IdleReason",{CANCELLED:"CANCELLED",INTERRUPTED:"INTERRUPTED",FINISHED:"FINISHED",ERROR:"ERROR"});t("cast.receiver.media.SeekResumeState",{PLAYBACK_START:"PLAYBACK_START",PLAYBACK_PAUSE:"PLAYBACK_PAUSE"});t("cast.receiver.media.PlayerState",{IDLE:"IDLE",PLAYING:"PLAYING",PAUSED:"PAUSED",BUFFERING:"BUFFERING"});t("cast.receiver.media.ExtendedPlayerState",{LOADING:"LOADING"});
var sd=function(){this.contentId="";this.contentUrl=void 0;this.streamType="NONE";this.contentType="";this.hlsSegmentFormat=this.breakClips=this.breaks=this.customData=this.textTrackStyle=this.tracks=this.duration=this.entity=this.metadata=void 0};t("cast.receiver.media.MediaInformation",sd);var td=function(a,b){this.start=a;this.end=b};t("cast.receiver.media.SeekableRange",td);var ud=function(a,b,c,d){td.call(this,a,b);this.isMovingWindow=c;this.isLiveDone=d};k(ud,td);
t("cast.receiver.media.LiveSeekableRange",ud);var vd=function(a,b,c,d,e,f,g){this.id=a;this.queueType=this.entity=void 0;this.name=b;this.description=c;this.repeatMode=d;this.items=e;this.startIndex=f;this.startTime=g};t("cast.receiver.media.QueueData",vd);t("cast.receiver.media.QueueType",{ALBUM:"ALBUM",PLAYLIST:"PLAYLIST",AUDIOBOOK:"AUDIOBOOK",RADIO_STATION:"RADIO_STATION",PODCAST_SERIES:"PODCAST_SERIES",TV_SERIES:"TV_SERIES",VIDEO_PLAYLIST:"VIDEO_PLAYLIST",LIVE_TV:"LIVE_TV",MOVIE:"MOVIE"});
t("cast.receiver.media.StreamingProtocolType",{UNKNOWN:0,MPEG_DASH:1,HLS:2,SMOOTH_STREAMING:3});t("cast.receiver.media.MetadataType",{GENERIC:0,MOVIE:1,TV_SHOW:2,MUSIC_TRACK:3,PHOTO:4});var wd=function(a){this.metadataType=a};t("cast.receiver.media.MediaMetadata",wd);var xd=function(){this.metadataType=0;this.releaseDate=this.releaseYear=this.images=this.subtitle=this.title=void 0};k(xd,wd);t("cast.receiver.media.GenericMediaMetadata",xd);
var yd=function(){this.metadataType=1;this.releaseDate=this.releaseYear=this.images=this.subtitle=this.studio=this.title=void 0};k(yd,wd);t("cast.receiver.media.MovieMediaMetadata",yd);var zd=function(){this.metadataType=2;this.originalAirdate=this.releaseYear=this.images=this.episode=this.episodeNumber=this.season=this.seasonNumber=this.episodeTitle=this.title=this.seriesTitle=void 0};k(zd,wd);t("cast.receiver.media.TvShowMediaMetadata",zd);
var Ad=function(){this.metadataType=3;this.releaseDate=this.releaseYear=this.images=this.discNumber=this.trackNumber=this.artistName=this.songName=this.composer=this.artist=this.albumArtist=this.title=this.albumName=void 0};k(Ad,wd);t("cast.receiver.media.MusicTrackMediaMetadata",Ad);var Bd=function(){this.metadataType=4;this.creationDateTime=this.height=this.width=this.longitude=this.latitude=this.images=this.location=this.artist=this.title=void 0};k(Bd,wd);
t("cast.receiver.media.PhotoMediaMetadata",Bd);t("cast.receiver.media.Image",function(a){this.url=a;this.width=this.height=void 0});var Cd=function(){this.muted=this.level=void 0};t("cast.receiver.media.Volume",Cd);var Dd=function(a,b,c){this.width=a;this.height=b;this.hdrType=c};t("cast.receiver.media.VideoInformation",Dd);
var Ed=function(){this.type="MEDIA_STATUS";this.mediaSessionId=0;this.videoInfo=this.queueData=this.media=void 0;this.playbackRate=1;this.playerState="IDLE";this.idleReason=void 0;this.supportedMediaCommands=this.currentTime=0;this.volume=new Cd;this.liveSeekableRange=this.extendedStatus=this.breakStatus=this.repeatMode=this.items=this.customData=this.preloadedItemId=this.loadingItemId=this.currentItemId=this.activeTrackIds=void 0};t("cast.receiver.media.MediaStatus",Ed);
var Fd=function(a,b){this.playerState=a;this.media=b};t("cast.receiver.media.ExtendedMediaStatus",Fd);var Gd=function(){Ed.call(this)};k(Gd,Ed);t("cast.receiver.media.CloudMediaStatus",Gd);t("cast.receiver.media.Command",{PAUSE:1,SEEK:2,STREAM_VOLUME:4,STREAM_MUTE:8,ALL_BASIC_MEDIA:15,QUEUE_NEXT:64,QUEUE_PREV:128,QUEUE_SHUFFLE:256,SKIP_AD:512});t("cast.receiver.media.TrackType",{TEXT:"TEXT",AUDIO:"AUDIO",VIDEO:"VIDEO"});
t("cast.receiver.media.TextTrackType",{SUBTITLES:"SUBTITLES",CAPTIONS:"CAPTIONS",DESCRIPTIONS:"DESCRIPTIONS",CHAPTERS:"CHAPTERS",METADATA:"METADATA"});t("cast.receiver.media.TextTrackEdgeType",{NONE:"NONE",OUTLINE:"OUTLINE",DROP_SHADOW:"DROP_SHADOW",RAISED:"RAISED",DEPRESSED:"DEPRESSED"});t("cast.receiver.media.TextTrackWindowType",{NONE:"NONE",NORMAL:"NORMAL",ROUNDED_CORNERS:"ROUNDED_CORNERS"});
t("cast.receiver.media.TextTrackFontGenericFamily",{SANS_SERIF:"SANS_SERIF",MONOSPACED_SANS_SERIF:"MONOSPACED_SANS_SERIF",SERIF:"SERIF",MONOSPACED_SERIF:"MONOSPACED_SERIF",CASUAL:"CASUAL",CURSIVE:"CURSIVE",SMALL_CAPITALS:"SMALL_CAPITALS"});t("cast.receiver.media.TextTrackFontStyle",{NORMAL:"NORMAL",BOLD:"BOLD",BOLD_ITALIC:"BOLD_ITALIC",ITALIC:"ITALIC"});
t("cast.receiver.media.Track",function(a,b){this.trackId=a;this.trackContentType=this.trackContentId=void 0;this.type=b;this.customData=this.subtype=this.language=this.name=void 0});t("cast.receiver.media.TextTrackStyle",function(){this.customData=this.fontStyle=this.fontGenericFamily=this.fontFamily=this.windowRoundedCornerRadius=this.windowColor=this.windowType=this.edgeColor=this.edgeType=this.backgroundColor=this.foregroundColor=this.fontScale=void 0});
t("cast.receiver.media.TracksInfo",function(){this.textTrackStyle=this.language=this.activeTrackIds=this.tracks=void 0});var Hd={REPEAT_OFF:"REPEAT_OFF",REPEAT_ALL:"REPEAT_ALL",REPEAT_SINGLE:"REPEAT_SINGLE",REPEAT_ALL_AND_SHUFFLE:"REPEAT_ALL_AND_SHUFFLE"};t("cast.receiver.media.RepeatMode",Hd);t("cast.receiver.media.QueueChangeType",{INSERT:"INSERT",REMOVE:"REMOVE",ITEMS_CHANGE:"ITEMS_CHANGE",UPDATE:"UPDATE",NO_CHANGE:"NO_CHANGE"});
var Id=function(){this.type="QUEUE_CHANGE";this.sequenceNumber=this.insertBefore=this.itemIds=this.changeType=this.requestId=void 0};t("cast.receiver.media.QueueChange",Id);var Jd=function(){this.type="QUEUE_ITEMS";this.items=this.requestId=void 0};t("cast.receiver.media.ItemsInfo",Jd);var Kd=function(){this.type="QUEUE_ITEM_IDS";this.itemIds=this.requestId=void 0};t("cast.receiver.media.QueueIds",Kd);t("cast.receiver.media.repeatMode",Hd);
var Ld=function(a){return"REPEAT_OFF"==a||"REPEAT_ALL"==a||"REPEAT_SINGLE"==a||"REPEAT_ALL_AND_SHUFFLE"==a};t("cast.receiver.media.GetStatusOptions",{NO_METADATA:1,NO_QUEUE_ITEMS:2});t("cast.receiver.media.Break",function(a,b,c){this.id=a;this.breakClipIds=b;this.position=c;this.duration=void 0;this.isWatched=!1;this.isEmbedded=void 0});
t("cast.receiver.media.BreakClip",function(a){this.id=a;this.vastAdsRequest=this.customData=this.hlsSegmentFormat=this.clickThroughUrl=this.posterUrl=this.whenSkippable=this.duration=this.title=this.contentType=this.contentUrl=this.contentId=void 0});t("cast.receiver.media.VastAdsRequest",function(){this.adsResponse=this.adTagUrl=void 0});t("cast.receiver.media.BreakStatus",function(a,b){this.currentBreakTime=a;this.currentBreakClipTime=b;this.whenSkippable=this.breakClipId=this.breakId=void 0});var N=function(a,b,c,d){E.call(this);this.L=a;this.$=b;this.jc=!1;this.ua=d||"STRING";this.j=new J;this.sc=this.onMessage=null;this.serializeMessage=this.ee;this.deserializeMessage=this.Gd;this.B={};a=l(c);for(b=a.next();!b.done;b=a.next())this.B[b.value]=null;this.Pc=this.Kb.bind(this);this.$.addEventListener(this.L,this.Pc)};k(N,E);t("cast.receiver.CastMessageBus",N);N.prototype.ea=function(){return"CastMessageBus["+this.L+"]"};N.prototype.pa=function(){return this.L};N.prototype.getNamespace=N.prototype.pa;
N.prototype.pe=function(){return this.ua};N.prototype.getMessageType=N.prototype.pe;var Md=function(a,b,c,d){a.Kb(new pd(b,c,d))};N.prototype.Kb=function(a){A(Nd,y,"Dispatching CastMessageBus message");var b="STRING"==this.ua?a.data:this.deserializeMessage(a.data);this.c(new Od(a.senderId,a.senderId,b));a=new Od("message",a.senderId,b);if(this.onMessage)this.onMessage(a);this.c(a)};
N.prototype.send=function(a,b){this.jc||"urn:x-cast:com.google.cast.system"==this.L||C(Nd,"Application should not send requests before the system is ready (they will be ignored)");if(!this.sc||!this.sc(a,this.L,b))if("STRING"==this.ua){if(!oa(b))throw Error("Wrong argument, CastMessageBus type is STRING");this.$.send(this.L,a,b)}else this.$.send(this.L,a,this.serializeMessage(b))};N.prototype.send=N.prototype.send;N.prototype.Ub=function(a){this.send("*:*",a)};N.prototype.broadcast=N.prototype.Ub;
N.prototype.ke=function(a){if(Wa(this.B,a))return this.B[a]||(this.B[a]=new L(this,a)),this.B[a];throw Error("Requested a socket for a disconnected sender: "+a);};N.prototype.getCastChannel=N.prototype.ke;N.prototype.ee=function(a){if("JSON"!=this.ua)throw Error("Unexpected message type for JSON serialization");return"urn:x-cast:com.google.cast.media"===this.L?JSON.stringify(a,function(a,c){return null===c?void 0:c}):JSON.stringify(a)};
N.prototype.Gd=function(a){if("JSON"!=this.ua)throw Error("Unexpected message type for JSON serialization");return JSON.parse(a)};N.prototype.D=function(){E.prototype.D.call(this);this.$.removeEventListener(this.L,this.Pc);this.j.O();for(var a in this.B)this.B[a]&&this.B[a].close();this.B={};A(Nd,y,"Disposed "+this.ea())};N.prototype.addEventListener=function(a,b){H(this.j,a,b)};N.prototype.addEventListener=N.prototype.addEventListener;N.prototype.removeEventListener=function(a,b){I(this.j,a,b)};
N.prototype.removeEventListener=N.prototype.removeEventListener;N.prototype.c=function(a){a.target=this;return uc(this.j,a)};N.prototype.dispatchEvent=function(a){return this.c(a)};N.prototype.dispatchEvent=N.prototype.dispatchEvent;N.MessageType={STRING:"STRING",JSON:"JSON",CUSTOM:"CUSTOM"};N.EventType={MESSAGE:"message"};var Nd=z("cast.receiver.CastMessageBus"),Od=function(a,b,c){G.call(this,a);this.senderId=b;this.data=c};k(Od,G);N.Event=Od;var Pd="StopIteration"in m?m.StopIteration:{message:"StopIteration",stack:""},Qd=function(){};Qd.prototype.next=function(){throw Pd;};Qd.prototype.td=function(){return this};var Rd=function(a,b){this.U={};this.m=[];this.rb=this.oa=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};Rd.prototype.Ec=function(){Sd(this);return this.m.concat()};Rd.prototype.hc=function(){return 0==this.oa};Rd.prototype.clear=function(){this.U={};this.rb=this.oa=this.m.length=0};
Rd.prototype.remove=function(a){return Td(this.U,a)?(delete this.U[a],this.oa--,this.rb++,this.m.length>2*this.oa&&Sd(this),!0):!1};var Sd=function(a){if(a.oa!=a.m.length){for(var b=0,c=0;b<a.m.length;){var d=a.m[b];Td(a.U,d)&&(a.m[c++]=d);b++}a.m.length=c}if(a.oa!=a.m.length){var e={};for(c=b=0;b<a.m.length;)d=a.m[b],Td(e,d)||(a.m[c++]=d,e[d]=1),b++;a.m.length=c}};h=Rd.prototype;h.get=function(a,b){return Td(this.U,a)?this.U[a]:b};
h.set=function(a,b){Td(this.U,a)||(this.oa++,this.m.push(a),this.rb++);this.U[a]=b};h.addAll=function(a){if(a instanceof Rd)for(var b=a.Ec(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};h.forEach=function(a,b){for(var c=this.Ec(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new Rd(this)};
h.td=function(a){Sd(this);var b=0,c=this.rb,d=this,e=new Qd;e.next=function(){if(c!=d.rb)throw Error("The map has changed since the iterator was created");if(b>=d.m.length)throw Pd;var e=d.m[b++];return a?e:d.U[e]};return e};var Td=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};z("goog.net.XhrIo");var Ud=function(){this.Zc=xa()},Vd=null;Ud.prototype.set=function(a){this.Zc=a};Ud.prototype.reset=function(){this.set(xa())};Ud.prototype.get=function(){return this.Zc};var Wd=function(a){this.Ke=a||"";Vd||(Vd=new Ud);this.cf=Vd};h=Wd.prototype;h.zc=!0;h.md=!0;h.af=!0;h.$e=!0;h.nd=!1;h.bf=!1;var Xd=function(a){return 10>a?"0"+a:String(a)},Yd=function(a,b){a=(a.pd-b)/1E3;b=a.toFixed(3);var c=0;if(1>a)c=2;else for(;100>a;)c++,a*=10;for(;0<c--;)b=" "+b;return b},Zd=function(a){Wd.call(this,a)};ya(Zd,Wd);var $d=function(){this.Le=r(this.wd,this);this.yb=new Zd;this.yb.md=!1;this.yb.nd=!1;this.Jc=this.yb.zc=!1;this.ie={}};
$d.prototype.wd=function(a){if(!this.ie[a.Mc]){var b=this.yb;var c=[];c.push(b.Ke," ");if(b.md){var d=new Date(a.pd);c.push("[",Xd(d.getFullYear()-2E3)+Xd(d.getMonth()+1)+Xd(d.getDate())+" "+Xd(d.getHours())+":"+Xd(d.getMinutes())+":"+Xd(d.getSeconds())+"."+Xd(Math.floor(d.getMilliseconds()/10)),"] ")}b.af&&c.push("[",Yd(a,b.cf.get()),"s] ");b.$e&&c.push("[",a.Mc,"] ");b.bf&&c.push("[",a.sa.name,"] ");c.push(a.Ee);b.nd&&(d=a.bc)&&c.push("\n",d instanceof Error?d.message:d.toString());b.zc&&c.push("\n");
b=c.join("");if(c=ae)switch(a.sa){case tb:be(c,"info",b);break;case ub:be(c,"error",b);break;case vb:be(c,"warn",b);break;default:be(c,"log",b)}}};var ce=null,ae=m.console,be=function(a,b,c){if(a[b])a[b](c);else a.log(c)};var de=function(){this.I=O.fa();this.Nc=0;this.tb=null;this.Wa=new Rd;this.Qe=this.Re.bind(this);this.K=this.I.La("urn:x-cast:com.google.cast.inject","JSON");this.K.onMessage=this.F.bind(this);for(var a=l(["urn:x-cast:com.google.cast.cac","urn:x-cast:com.google.cast.media"]),b=a.next();!b.done;b=a.next())if(b=this.I.u[b.value]||null)b.sc=this.Qe};
de.prototype.F=function(a){var b=this,c=a.data,d=c.requestId,e=a.senderId;if("WRAPPED"!=c.type)this.S("Unsupported message type "+c.type,e,d);else{a=JSON.parse(c.data);c=a.namespace;var f=this.I.u[c]||null;if(f){var g=!1;if("urn:x-cast:com.google.cast.cac"==c)a.data.requestId=d,g=!0;else if("urn:x-cast:com.google.cast.media"==c){var u=a.data;u.requestId=d;u.mediaSessionId=this.Nc}else{this.S("Unsupported namespace "+c,e,d);return}this.Wa.set(d,e);try{this.tb=null,Md(f,c,"__inject__",JSON.stringify(a.data))}catch(F){throw this.Wa.remove(d),
this.S("Injecting "+a.data+" failed with "+F,e,d),F;}if(!g){var K=function(){return b.tb?(b.Wa.remove(d),b.S("Error "+JSON.stringify(b.tb),e,d,"WRAPPED_ERROR",b.tb),!0):!1};K()||setTimeout(function(){K()||(b.Wa.remove(d),ee(b,e,d))},5)}}else this.S("Unregistered namespace "+c,e,d,"WRAPPED_ERROR",{type:"ERROR",code:"UNREGISTERED_NAMESPACE"})}};
de.prototype.Re=function(a,b,c){if("urn:x-cast:com.google.cast.media"==b&&"STRING"==(this.I.u[b]||null).ua)try{c=JSON.parse(c)}catch(e){return B(fe,"Parse failed: "+c),!1}var d=c.type;"urn:x-cast:com.google.cast.media"==b&&"MEDIA_STATUS"==d&&c.status&&c.status[0]&&(this.Nc=c.status[0].mediaSessionId);if("__inject__"!=a)return!1;a=c.requestId;if(!n(a))return C(fe,"No requestId in "+c),!0;if("urn:x-cast:com.google.cast.media"==b){switch(d){case "INVALID_REQUEST":case "INVALID_PLAYER_STATE":b=c.reason,
this.tb={type:"ERROR",code:b?b:d}}return!0}d=this.Wa.get(a);if(!d)return B(fe,"Request not found "+a),!0;this.Wa.remove(a);if("urn:x-cast:com.google.cast.cac"!=b)return B(fe,"Unsupported namespace "+b),!0;b=c;switch(b.type){case "SUCCESS":ee(this,d,a,Object.getOwnPropertyNames(c).some(function(a){return"type"!=a&&"requestId"!=a&&n(c[a])})?JSON.stringify(c):void 0);break;case "ERROR":this.S("Wrapped error",d,a,"WRAPPED_ERROR",b);break;default:this.S("Unknown message type "+c,d,a)}return!0};
de.prototype.S=function(a,b,c,d,e){B(fe,a);this.K.send(b,new ge(c,d||"INJECT_ERROR",n(e)?JSON.stringify(e):void 0))};var ee=function(a,b,c,d){a.K.send(b,new he(c,d))};pa(de);var fe=z("cast.receiver.InjectManager"),ie=function(a,b,c){this.type=a;this.requestId=b;this.data=c},he=function(a,b){ie.call(this,"SUCCESS",a,b)};k(he,ie);var ge=function(a,b,c){ie.call(this,"ERROR",a,c);this.code=b};k(ge,ie);var je=function(){return!(!cast.__platform__||!cast.__platform__.metrics)},ke=function(a,b){je()&&cast.__platform__.metrics.logIntToUma(a,b)};t("cast.receiver.analytics.logEvent",function(a){je()&&cast.__platform__.metrics.logEventToUma(a)});t("cast.receiver.analytics.logBool",function(a,b){je()&&cast.__platform__.metrics.logBoolToUma(a,b)});t("cast.receiver.analytics.logInt",ke);t("cast.receiver.analytics.logHistogramValue",function(a,b,c,d,e){je()&&cast.__platform__.metrics.logHistogramValueToUma(a,b,c,d,e)});var O=function(){E.call(this);ce||(ce=new $d);if(ce){var a=ce;if(1!=a.Jc){Fb();var b=Eb;var c=a.Le;b.gb||(b.gb=[]);b.gb.push(c);a.Jc=!0}}this.w=Xa(le);this.mb=!1;this.$=new od;this.X={};this.j=new J;this.la=new N("urn:x-cast:com.google.cast.system",this.$,Va(this.X),"JSON");Hb(this,wa(Ib,this.la));this.ca=this.Tb=null;this.Ic=!1;this.jb=this.kb=null;this.Mb=!0;this.Ae="1.11";this.Fa="notstarted";this.sd=null;this.u={};this.oc=this.onMaxVideoResolutionChanged=this.onFeedbackStarted=this.onStandbyChanged=
this.onVisibilityChanged=this.onSystemVolumeChanged=this.onSenderDisconnected=this.onSenderConnected=this.onShutdown=this.onReady=null;this.la.addEventListener("SystemSender",this.Ie.bind(this));H(window,"unload",this.tc,!1,this);H(document,"visibilitychange",this.Sc,!1,this);A(P,tb,"Version: 2.0.0.0058");me&&me(this)};k(O,E);t("cast.receiver.CastReceiverManager",O);var ne=function(a){var b=a.toLocaleLowerCase();return["com.vizio.vue","com.vizio.smartcast"].some(function(a){return b.includes(a)})};
O.prototype.ea=function(){return"CastReceiverManager"};
O.prototype.start=function(a){if(a){if(!a)throw Error("Cannot validate undefined config.");if(void 0!=a.maxInactivity&&5>a.maxInactivity)throw Error("config.maxInactivity must be greater than or equal to 5 seconds.");$a(this.w,a||{})}this.w.versionCode&&0<=this.w.versionCode&&(Number.isInteger(this.w.versionCode)?(ke("Cast.Receiver.VersionCode",this.w.versionCode),D(P,"App Version "+this.w.versionCode)):B(P,"Receiver versionCode needs to be an integer"));de.fa();this.Ic=!0;this.$.open()};
O.prototype.start=O.prototype.start;O.prototype.stop=function(){this.O();window.close()};O.prototype.stop=O.prototype.stop;O.prototype.Fb=function(){return"ready"==this.Fa};O.prototype.isSystemReady=O.prototype.Fb;O.prototype.getSenders=function(){return Va(this.X)};O.prototype.getSenders=O.prototype.getSenders;O.prototype.se=function(a){return this.X[a]?Xa(this.X[a]):null};O.prototype.getSender=O.prototype.se;
O.prototype.we=function(){return null==this.kb?this.jb?"notvisible":"unknown":this.kb?"visible":"notvisible"};O.prototype.getVisibilityState=O.prototype.we;O.prototype.ue=function(){return null==this.jb?this.kb?"notstandby":"unknown":this.jb?"standby":"notstandby"};O.prototype.getStandbyState=O.prototype.ue;O.prototype.Gc=function(){"notstarted"==this.Fa&&(this.Fa=/[&?]google_cast_bg=true(&|$)/.test(window.location.search)?"startinginbackground":"starting");return this.Fa};
O.prototype.getSystemState=O.prototype.Gc;O.prototype.je=function(){return this.Tb};O.prototype.getApplicationData=O.prototype.je;O.prototype.me=function(){return this.ca};O.prototype.getDeviceCapabilities=O.prototype.me;O.prototype.Se=function(a){this.Fb()?oe(this,a):this.w.statusText!=a&&(this.w.statusText=a,this.mb=!0)};O.prototype.setApplicationState=O.prototype.Se;
O.prototype.Ue=function(a,b){this.Fb()?oe(this,a,b):(void 0!=a&&a!=this.w.statusText&&(this.w.statusText=a,this.mb=!0),void 0!=b&&b!=this.w.dialData&&(this.w.dialData=b,this.mb=!0))};O.prototype.setLegacyApplicationState=O.prototype.Ue;O.prototype.Xe=function(a){if(0>a||1<a)throw Error("Invalid level value");this.la.send("SystemSender",{type:"setvolume",level:a})};O.prototype.setSystemVolumeLevel=O.prototype.Xe;O.prototype.Ye=function(a){this.la.send("SystemSender",{type:"setvolume",muted:a})};
O.prototype.setSystemVolumeMuted=O.prototype.Ye;O.prototype.ve=function(){return this.sd};O.prototype.getSystemVolume=O.prototype.ve;var oe=function(a,b,c){var d={type:"setappstate"};void 0!=b&&(d.statusText=b);void 0!=c&&(d.dialData=c);a.la.send("SystemSender",d)};O.prototype.hd=function(a){this.la.send("SystemSender",{type:"startheartbeat",maxInactivity:a})};O.prototype.setInactivityTimeout=O.prototype.hd;
O.prototype.La=function(a,b){if("urn:x-cast:com.google.cast.system"==a)throw Error("Protected namespace");if(0!=a.lastIndexOf("urn:x-cast:",0))throw Error("Invalid namespace prefix");if(!this.u[a]){if(this.Ic)throw Error("New namespaces can not be requested after start has been called");this.u[a]=new N(a,this.$,Va(this.X),b);Hb(this,wa(Ib,this.u[a]))}if(b&&this.u[a].ua!=b)throw Error("Invalid messageType for the namespace");return this.u[a]};O.prototype.getCastMessageBus=O.prototype.La;
O.prototype.fd=function(a){this.la.send("SystemSender",{type:"sendfeedbackmessage",message:a})};O.prototype.sendFeedbackMessage=O.prototype.fd;
O.prototype.Ie=function(a){a=a.data;switch(a.type){case "opened":D(P,"Underlying message bus is open");var b=Va(this.u),c=this.w.statusText;a=this.w.dialData;var d={type:"ready"};c&&(d.statusText=c);a&&(d.dialData=a);d.activeNamespaces=b;d.version="2.0.0";d.messagesVersion="1.0";this.la.send("SystemSender",d);this.w.maxInactivity&&this.hd(this.w.maxInactivity);break;case "closed":this.tc();break;case "error":this.c(new Q("error",null));break;case "ready":b=a.launchingSenderId;c=Va(this.u);this.Rb=
a.version;this.Mb=!pe(this,this.Ae);var e=a.deviceCapabilities;this.ca=e?Xa(e):{};cast.__platform__&&cast.__platform__.canDisplayType&&(this.ca.hasOwnProperty("is_hdr_supported")||(this.ca.is_hdr_supported=id("video/mp4; codecs=hev1.2.4.L153.B0; eotf=smpte2084")),this.ca.hasOwnProperty("is_dv_supported")||(this.ca.is_dv_supported=id("video/mp4; codecs=dvhe.04.06")));this.Tb={id:a.applicationId,name:a.applicationName,sessionId:a.sessionId,namespaces:c,launchingSenderId:b};this.Fa="ready";for(d in this.u)this.u[d].jc=
!0;this.mb&&(this.mb=!1,oe(this,this.w.statusText,this.w.dialData));D(P,"Dispatching CastReceiverManager system ready event");b=new qe(this.Tb);if(this.onReady)this.onReady(b);this.c(b);break;case "senderconnected":b={id:a.senderId,userAgent:a.userAgent};if(ne(b.id))D(P,"Ignored connection from "+b.id);else{D(P,"Dispatching CastReceiverManager sender connected event ["+b.id+"]");Wa(this.X,b.id)&&B(P,"Unexpected connected message for already connected sender: "+b.id);this.X[b.id]=b;a=new re(b.id,b.userAgent);
for(c in this.u)d=this.u[c],e=b.id,Wa(d.B,e)?B(Nd,"Unexpected sender already registered ["+d.L+", "+e+"]"):(D(Nd,"Registering sender ["+d.L+", "+e+"]"),d.B[e]=null);if(this.onSenderConnected)this.onSenderConnected(a);this.c(a)}break;case "senderdisconnected":c=a.senderId;a=a.reason;if(ne(c))D(P,"Ignored disconnection from "+c);else{switch(a){case "closed_by_peer":a="requested_by_sender";break;case "transport_invalid_message":a="error";break;default:a="unknown"}D(P,"Dispatching sender disconnected event ["+
c+"] Reason: "+a);if(Wa(this.X,c)){d=this.X[c].userAgent;delete this.X[c];a=new se(c,d,a);for(b in this.u)d=this.u[b],e=c,Wa(d.B,e)&&(D(Nd,"Unregistering sender ["+d.L+", "+e+"]"),d.B[e]&&d.B[e].close(),delete d.B[e]);this.c(Xa(a));if(this.onSenderDisconnected)this.onSenderDisconnected(a)}else B(P,"Unknown sender disconnected: "+c)}break;case "volumechanged":this.sd=b={level:a.level,muted:a.muted};D(P,"Dispatching system volume changed event ["+b.level+", "+b.muted+"]");b=new te(b);if(this.onSystemVolumeChanged)this.onSystemVolumeChanged(b);
this.c(b);break;case "visibilitychanged":this.Mb||(b=a.visible,ue(this,n(b)?b:null));break;case "standbychanged":if(!this.Mb&&(b=a.standby,b=n(b)?b:null,b!=this.jb)){D(P,"Dispatching standby changed event "+b);this.jb=b;b=new ve(1==b);if(this.onStandbyChanged)this.onStandbyChanged(b);this.c(b)}break;case "maxvideoresolutionchanged":b=a.height;D(P,"Dispatching maxvideoresolutionchanged "+b);b=new we(b);if(this.onMaxVideoResolutionChanged)this.onMaxVideoResolutionChanged(b);this.c(b);break;case "hdroutputtypechanged":this.oc&&
this.oc(a.hdrType);break;case "screenresolutionchanged":break;case "feedbackstarted":D(P,"Dispatching feedback started event");b=new xe;if(this.onFeedbackStarted)this.onFeedbackStarted(b);else this.fd("");break;default:throw Error("Unexpected message type: "+a.type);}};
O.prototype.canDisplayType=function(a,b,c,d,e){if(!cast.__platform__||!cast.__platform__.canDisplayType)return!0;if(!Na(a,"video/")&&!Na(a,"audio/"))throw Error("Not video or audio types.");b&&(a+="; codecs="+b);c&&d&&(a+="; width="+c+"; height="+d);e&&(a+="; framerate="+e);if(c=b)a:for(c=!1,b=b.split(","),d=0;d<b.length;d++){if(b[d].match(rd)){c=!1;break a}0===b[d].indexOf("hev1.2")&&(c=!0)}c&&(a+="; eotf=smpte2084");return id(a)};O.prototype.canDisplayType=O.prototype.canDisplayType;
var ue=function(a,b){if(b==a.kb)D(P,"Ignoring visibility changed event, state is already "+b);else{D(P,"Dispatching visibility changed event "+b);a.kb=b;b=new ye(0!=b);if(a.onVisibilityChanged)a.onVisibilityChanged(b);a.c(b)}};O.prototype.Sc=function(){this.Mb&&ue(this,"visible"==document.visibilityState)};
O.prototype.tc=function(){D(P,"Dispatching shutdown event");this.Gc();this.Fa="startinginbackground"==this.Fa?"stoppinginbackground":"stopping";for(var a in this.u)this.u[a].jc=!1;a=new ze;if(this.onShutdown)this.onShutdown(a);this.c(a)};
var pe=function(a,b){if(!b)return B(P,"Version not provided"),!1;if(!a.Rb)return B(P,"No System Version"),!1;var c=b.split(".");if(!c.length)return B(P,"Version provided is not valid: "+b),!1;var d=a.Rb.split(".");if(!d.length)return B(P,"System Version format is not valid "+a.Rb),!1;for(var e=0;e<c.length;e++){var f=parseInt(c[e],10);if(isNaN(f))return B(P,"Version is not numeric: "+b),!1;var g=d.length>e?parseInt(d[e],10):0;if(isNaN(g))return B(P,"System Version is not numeric: "+a.Rb),!1;if(f>
g)return!1}return!0};O.prototype.D=function(){this.$.close();E.prototype.D.call(this);window&&I(window,"unload",this.tc,!1,this);document&&I(document,"visibilitychange",this.Sc,!1,this);this.j.O();delete O.Cb;Gb(P,"Disposed "+this.ea())};O.prototype.addEventListener=function(a,b){H(this.j,a,b)};O.prototype.addEventListener=O.prototype.addEventListener;O.prototype.removeEventListener=function(a,b){I(this.j,a,b)};O.prototype.removeEventListener=O.prototype.removeEventListener;
O.prototype.c=function(a){a.target=this;return uc(this.j,a)};O.prototype.dispatchEvent=function(a){return this.c(a)};O.prototype.dispatchEvent=O.prototype.dispatchEvent;pa(O);O.getInstance=O.fa;var me=null,P=z("cast.receiver.CastReceiverManager");
O.DeviceCapabilities={AUDIO_ASSISTANT:"audio_assistant",BLUETOOTH_SUPPORTED:"bluetooth_supported",DISPLAY_SUPPORTED:"display_supported",HI_RES_AUDIO_SUPPORTED:"hi_res_audio_supported",IS_DV_SUPPORTED:"is_dv_supported",IS_HDR_SUPPORTED:"is_hdr_supported",TOUCH_INPUT_SUPPORTED:"touch_input_supported"};
O.EventType={READY:"ready",SHUTDOWN:"shutdown",SENDER_CONNECTED:"senderconnected",SENDER_DISCONNECTED:"senderdisconnected",ERROR:"error",SYSTEM_VOLUME_CHANGED:"systemvolumechanged",VISIBILITY_CHANGED:"visibilitychanged",STANDBY_CHANGED:"standbychanged",MAX_VIDEO_RESOLUTION_CHANGED:"maxvideoresolutionchanged",FEEDBACK_STARTED:"feedbackstarted"};var Q=function(a,b){G.call(this,a);this.data=b};k(Q,G);O.Event=Q;
t("cast.receiver.system.DisconnectReason",{REQUESTED_BY_SENDER:"requested_by_sender",ERROR:"error",UNKNOWN:"unknown"});var se=function(a,b,c){Q.call(this,"senderdisconnected",a);this.senderId=a;this.userAgent=b;this.reason=c};k(se,Q);O.SenderDisconnectedEvent=se;var re=function(a,b){Q.call(this,"senderconnected",a);this.senderId=a;this.userAgent=b};k(re,Q);O.SenderConnectedEvent=re;var ye=function(a){Q.call(this,"visibilitychanged",a);this.isVisible=a};k(ye,Q);O.VisibilityChangedEvent=ye;
var ve=function(a){Q.call(this,"standbychanged",null);this.isStandby=a};k(ve,Q);O.StandbyChangedEvent=ve;var te=function(a){Q.call(this,"systemvolumechanged",a);this.data=a};k(te,Q);O.SystemVolumeChangedEvent=te;var qe=function(a){Q.call(this,"ready",a);this.data=a};k(qe,Q);O.ReadyEvent=qe;var ze=function(){Q.call(this,"shutdown",null)};k(ze,Q);O.ShutdownEvent=ze;var xe=function(){Q.call(this,"feedbackstarted",null)};k(xe,Q);O.FeedbackStartedEvent=xe;
var we=function(a){Q.call(this,"maxvideoresolutionchanged",null);this.height=a};k(we,Q);O.MaxVideoResolutionChangedEvent=we;O.Config=function(){this.dialData=this.versionCode=this.maxInactivity=this.statusText=void 0};var le={maxInactivity:10};var Ae=function(){this.I=O.fa();this.K=this.I.La("urn:x-cast:com.google.cast.broadcast","JSON");this.K.onMessage=this.F.bind(this)};
Ae.prototype.F=function(a){if(this.I.Fb())C(Be,"Ignoring broadcast request, system is ready.");else{a=a.data;var b=a.type;if("APPLICATION_BROADCAST"!=b)B(Be,"Ignoring message type: "+b);else if(b=a.namespace){var c=this.I.u[b]||null;if(c)switch(b){case "urn:x-cast:com.google.cast.media":var d=JSON.parse(a.message);if("PRECACHE"!=d.type){B(Be,"Unsupported type for media namespace: "+d.type);break}Md(c,b,"__broadcast__",a.message);break;default:B(Be,"Unsupported namespace: "+a.namespace)}else B(Be,
"Invalid message bus for namespace: "+b)}else B(Be,"Missing namespace: "+b)}};pa(Ae);var Be=z("cast.receiver.BroadcastManager");t("cast.receiver.BroadcastManager.NAMESPACE_PREFIX","urn:x-cast:");t("cast.receiver.BroadcastManager.BroadcastRequest",function(){});var R=function(){this.xa=this.onFocusState=this.onCustomCommand=this.onDisplayStatus=this.onUserAction=this.onLoadByEntity=this.onSetCredentials=null;this.I=O.fa();this.K=this.I.La("urn:x-cast:com.google.cast.cac","JSON");this.K.onMessage=this.F.bind(this);this.Xa=new Rd};t("cast.receiver.CommandAndControlManager",R);
R.prototype.F=function(a){var b=a.data,c=b.type;a=a.senderId;switch(c){case "SET_CREDENTIALS":Ce(this,b.forRequestId,b);var d=this.onSetCredentials;break;case "LOAD_BY_ENTITY":d=this.onLoadByEntity;break;case "USER_ACTION":d=this.onUserAction;break;case "DISPLAY_STATUS":d=this.onDisplayStatus;break;case "CUSTOM_COMMAND":d=this.onCustomCommand;break;case "FOCUS_STATE":(d=this.onFocusState)&&this.I.ca.focus_state_supported&&d(b);return;case "SUCCESS":case "ERROR":Ce(this,b.requestId,b);return;default:this.S("Unsupported event "+
c,a,b,"INVALID_REQUEST");return}d?De(this,a,b,d):this.S("Handler for "+c+" not implemented",a,b,"INVALID_COMMAND")};
var De=function(a,b,c,d){Sc().then(function(){return d(c)}).then(function(d){a:if(d){switch(d.type){case "SUCCESS":case "ERROR":d.requestId=c.requestId;break a}d=Ee("Invalid response data "+JSON.stringify(d),c,"APP_ERROR")}else d=Ee("No response data",c,"APP_ERROR");"ERROR"===d.type&&a.xa&&a.xa(d);a.K.send(b,d)},function(d){a.S("Got a rejected promise "+JSON.stringify(d),b,c,"APP_ERROR")})},Ee=function(a,b,c){B(Fe,a);a=new Ge(c);a.requestId=b.requestId;return a};
R.prototype.S=function(a,b,c,d){var e=Ee(a,c,d);this.xa&&this.xa(e);this.K.send(b,Ee(a,c,d))};
R.prototype.We=function(a,b){if(null!==b&&!sa(b))throw B(Fe,"Given handler is not a function or null"),Error("Given handler is not a function or null");switch(a){case "SET_CREDENTIALS":this.onSetCredentials=b;break;case "LOAD_BY_ENTITY":this.onLoadByEntity=b;break;case "USER_ACTION":this.onUserAction=b;break;case "DISPLAY_STATUS":this.onDisplayStatus=b;break;case "CUSTOM_COMMAND":this.onCustomCommand=b;break;case "FOCUS_STATE":this.onFocusState=b;break;default:throw a="Cannot set handler for "+a,
B(Fe,a),Error(a);}};R.prototype.setMessageHandler=R.prototype.We;R.prototype.Je=function(a,b){var c=this,d=this.I.ca;if(d&&!0===d.display_supported)return Promise.resolve(new Ge("NOT_SUPPORTED"));d=xa();if(Td(this.Xa.U,d))return Promise.reject(Error("Duplicate request"));var e=new He(a,b);e.requestId=d;return new Promise(function(a){c.Xa.set(e.requestId,a);c.K.send("system-0",e)})};R.prototype.playString=R.prototype.Je;
R.prototype.Ne=function(){var a=this,b=xa(),c=new Ie;c.requestId=b;return new Promise(function(b){a.Xa.set(c.requestId,b);a.K.send("system-0",c)})};R.prototype.refreshCredentials=R.prototype.Ne;R.prototype.ge=function(a){var b=this,c=xa(),d=new Je(a);d.requestId=c;return new Promise(function(a){b.Xa.set(d.requestId,a);b.K.send("system-0",d)})};R.prototype.executeActionScript=R.prototype.ge;
var Ce=function(a,b,c){if(b){var d=a.Xa.get(b);d?(a.Xa.remove(b),d(c)):C(Fe,"No matching request for response "+JSON.stringify(c))}};pa(R);R.getInstance=R.fa;R.NAMESPACE="urn:x-cast:com.google.cast.cac";var Fe=z("cast.receiver.CommandAndControlManager");
R.MessageType={SET_CREDENTIALS:"SET_CREDENTIALS",LOAD_BY_ENTITY:"LOAD_BY_ENTITY",USER_ACTION:"USER_ACTION",DISPLAY_STATUS:"DISPLAY_STATUS",PLAY_STRING:"PLAY_STRING",EXECUTE_ACTION_SCRIPT:"EXECUTE_ACTION_SCRIPT",CUSTOM_COMMAND:"CUSTOM_COMMAND",FOCUS_STATE:"FOCUS_STATE",REFRESH_CREDENTIALS:"REFRESH_CREDENTIALS",SUCCESS:"SUCCESS",ERROR:"ERROR"};R.PlayStringId={FREE_TRIAL_ABOUT_TO_EXPIRE:"FREE_TRIAL_ABOUT_TO_EXPIRE",SUBSCRIPTION_ABOUT_TO_EXPIRE:"SUBSCRIPTION_ABOUT_TO_EXPIRE",STREAM_HIJACKED:"STREAM_HIJACKED"};
var Ke=function(a){this.type=a};R.RequestData=Ke;var Le=function(){this.type="SET_CREDENTIALS"};k(Le,Ke);R.SetCredentialsRequestData=Le;var Me=function(){this.type="LOAD_BY_ENTITY"};k(Me,Ke);R.LoadByEntityRequestData=Me;var Ne=function(){this.type="CUSTOM_COMMAND"};k(Ne,Ke);R.CustomCommandRequestData=Ne;var Ie=function(){this.type="REFRESH_CREDENTIALS"};k(Ie,Ke);R.RefreshCredentialsRequestData=Ie;var He=function(a,b){this.type="PLAY_STRING";this.stringId=a;this.arguments=b};k(He,Ke);
R.PlayStringRequestData=He;var Je=function(a){this.type="EXECUTE_ACTION_SCRIPT";this.actionScript=JSON.stringify(a)};k(Je,Ke);R.ExecuteActionScriptRequestData=Je;R.ScriptAction=function(a,b){this.app_id=a;this.action=b;this.custom_data=void 0};R.UserAction={LIKE:"LIKE",DISLIKE:"DISLIKE",FOLLOW:"FOLLOW",UNFOLLOW:"UNFOLLOW",FLAG:"FLAG",SKIP_AD:"SKIP_AD"};
R.UserActionContext={UNKNOWN_CONTEXT:"UNKNOWN_CONTEXT",TRACK:"TRACK",ALBUM:"ALBUM",ARTIST:"ARTIST",PLAYLIST:"PLAYLIST",EPISODE:"EPISODE",SERIES:"SERIES",MOVIE:"MOVIE",CHANNEL:"CHANNEL",TEAM:"TEAM",PLAYER:"PLAYER",COACH:"COACH"};var Oe=function(){this.type="USER_ACTION"};k(Oe,Ke);R.UserActionRequestData=Oe;var Pe=function(){this.type="DISPLAY_STATUS"};k(Pe,Ke);R.DisplayStatusRequestData=Pe;var Qe=function(){this.type="FOCUS_STATE"};k(Qe,Ke);R.FocusStateRequestData=Qe;
R.FocusState={IN_FOCUS:"IN_FOCUS",NOT_IN_FOCUS:"NOT_IN_FOCUS"};
R.ErrorCode={APP_ERROR:"APP_ERROR",NOT_SUPPORTED:"NOT_SUPPORTED",AUTHENTICATION_EXPIRED:"AUTHENTICATION_EXPIRED",PREMIUM_ACCOUNT_REQUIRED:"PREMIUM_ACCOUNT_REQUIRED",CONCURRENT_STREAM_LIMIT:"CONCURRENT_STREAM_LIMIT",PARENTAL_CONTROL_RESTRICTED:"PARENTAL_CONTROL_RESTRICTED",NOT_AVAILABLE_IN_REGION:"NOT_AVAILABLE_IN_REGION",CONTENT_ALREADY_PLAYING:"CONTENT_ALREADY_PLAYING",INVALID_COMMAND:"INVALID_COMMAND",INVALID_REQUEST:"INVALID_REQUEST",GENERIC_LOAD_ERROR:"GENERIC_LOAD_ERROR"};
var Re=function(a){this.type=a};k(Re,Ke);R.ResponseData=Re;var Se=function(a){this.type="SUCCESS";this.status=a};k(Se,Re);R.SuccessResponseData=Se;var Ge=function(a,b){this.type="ERROR";this.code=a;this.reason=b};k(Ge,Re);R.ErrorResponseData=Ge;var Te=!(!cast.__platform__||!cast.__platform__.crypto);t("cast.receiver.cryptokeys.getKeyByName",cast.__platform__&&cast.__platform__.cryptokeys?cast.__platform__.cryptokeys.getKeyByName:window.cryptokeys&&window.cryptokeys.getKeyByName);t("cast.receiver.crypto.decrypt",Te?cast.__platform__.crypto.decrypt:window.crypto.subtle.decrypt);t("cast.receiver.crypto.encrypt",Te?cast.__platform__.crypto.encrypt:window.crypto.subtle.encrypt);t("cast.receiver.crypto.sign",Te?cast.__platform__.crypto.sign:window.crypto.subtle.sign);
t("cast.receiver.crypto.unwrapKey",Te?cast.__platform__.crypto.unwrapKey:window.crypto.subtle.unwrapKey);t("cast.receiver.crypto.verify",Te?cast.__platform__.crypto.verify:window.crypto.subtle.verify);t("cast.receiver.crypto.wrapKey",Te?cast.__platform__.crypto.wrapKey:window.crypto.subtle.wrapKey);var Ue=/#(.)(.)(.)(.)/,We=function(a){if(!Ve.test(a))throw Error("'"+a+"' is not a valid alpha hex color");5==a.length&&(a=a.replace(Ue,"#$1$1$2$2$3$3$4$4"));a=a.toLowerCase();return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16),parseInt(a.substr(7,2),16)/255]},Ve=/^#(?:[0-9a-f]{4}){1,2}$/i,Xe=function(a){var b=a.slice(0);b[3]=Math.round(1E3*a[3])/1E3;return"rgba("+b.join(",")+")"};var af=function(a,b,c,d){E.call(this);this.f=a;this.wb=this.Qb=null;for(a=this.f;a.parentNode;)a=a.parentNode;this.dd=0>a.toString().toLowerCase().indexOf("shadow")?document.head:a;this.Ga=[];this.Zb=!1;this.Wb="cast-captions-"+Math.floor(1E6*Math.random()).toString();this.Dd="["+this.Wb+'="true"]::cue ';this.Ed=new RegExp(/^[\.'":%,;\s\-0-9a-z]+$/i);b=l(b);for(a=b.next();!a.done;a=b.next()){a=a.value;var e=a.trackContentId;if("TEXT"==a.type&&e){var f=a.trackContentType;if(0==Ma("vtt",e.substr(e.length-
3,3))||n(f)&&0==Ma(f,"text/vtt"))e=document.createElement("track"),e.src=a.trackContentId,e.id=a.trackId,e.label=a.name,e.srclang=a.language,e.kind=(a.subtype||"CAPTIONS").toLowerCase(),this.Ga.push(e),this.f.appendChild(e)}}Ye(this);d&&Ze(this,d);$e(this,c)};k(af,E);af.prototype.ea=function(){return"TextTracksManager"};
var bf=function(a,b){a=l(a.Ga);for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=c.track;b(c)?d.mode="showing":(d.mode="showing",d.mode="disabled")}},cf=function(a){return a.Ga.map(function(a){return parseInt(a.id,10)})},$e=function(a,b){bf(a,function(a){return 0<=Ga(b,parseInt(a.id,10))})},df=function(a,b){bf(a,function(a){return za(b,a.srclang)})},ef=function(a){var b=[];a=l(a.Ga);for(var c=a.next();!c.done;c=a.next())c=c.value,"showing"==c.track.mode&&b.push(parseInt(c.id,10));return b},ff=
function(a){a.wb&&(a.f.removeAttribute(a.Wb),a.dd.removeChild(a.wb),a.Qb=null)},gf=function(a){a.Zb&&(a.f.removeAttribute("crossorigin"),a.Zb=!1)},S=function(a,b,c){1==c||a.Ed.test(b)?a.Qb.insertRule(a.Dd+"{ "+b+" }",a.Qb.cssRules.length):C(hf,"Invalid css cue: "+b)},Ye=function(a){ff(a);gf(a);var b=document.createElement("style");b.type="text/css";a.dd.appendChild(b);b.appendChild(document.createTextNode(""));a.wb=b;a.Qb=a.wb.sheet;S(a,"font-size: 4.1vh;");S(a,"font-family: monospace;");S(a,"font-style: normal;");
S(a,"font-weight: normal;");S(a,"background-color: black;");S(a,"color: white;");a.f.setAttribute(a.Wb,!0);0<a.Ga.length&&!a.f.getAttribute("crossorigin")&&(a.f.setAttribute("crossorigin","anonymous"),a.Zb=!0)},jf=function(a,b){try{var c=Xe(We(a))}catch(d){C(hf,"Invalid color: "+a)}if(c)switch(a="rgba(204, 204, 204, "+parseInt(a.substring(7,9),16)+")",b){case "OUTLINE":return"text-shadow: 0 0 4px "+c+", 0 0 4px "+c+", 0 0 4px "+c+", 0 0 4px "+c+";";case "DROP_SHADOW":return"text-shadow: 0px 2px 3px "+
c+", 0px 2px 4px "+c+", 0px 2px 5px "+c+";";case "RAISED":return"text-shadow: 1px 1px "+c+", 2px 2px "+c+", 3px 3px "+c+";";case "DEPRESSED":return"text-shadow: 1px 1px "+a+", 0 1px "+a+", -1px -1px "+c+", 0 -1px "+c+";"}return""},kf=function(a){switch(a){case "BOLD":return"font-weight: bold;";case "BOLD_ITALIC":return"font-style: italic; font-weight: bold;";case "ITALIC":return"font-style: italic;"}return"font-style: normal;"},Ze=function(a,b){if(n(b.foregroundColor))try{var c=Xe(We(b.foregroundColor));
S(a,"color: "+c+";",!0)}catch(u){C(hf,"Invalid color: "+b.foregroundColor)}if(n(b.backgroundColor))try{var d=Xe(We(b.backgroundColor));S(a,"background-color: "+d+";",!0)}catch(u){C(hf,"Invalid color: "+b.backgroundColor)}n(b.fontScale)&&S(a,"font-size: "+100*b.fontScale+"%;");if(n(b.fontFamily)||n(b.fontGenericFamily)){c=b.fontFamily;d=b.fontGenericFamily;var e="font-family: ",f="";n(c)&&(e+='"'+c+'"',f=", ");if(n(d)){switch(d){case "SANS_SERIF":var g='"Droid Sans", sans-serif';break;case "MONOSPACED_SANS_SERIF":g=
'"Droid Sans Mono", monospace';break;case "SERIF":g='"Droid Serif", serif';break;case "MONOSPACED_SERIF":g='"Cutive Mono"';break;case "CASUAL":g='"Short Stack"';break;case "CURSIVE":g="Quintessential";break;case "SMALL_CAPITALS":g='"Alegreya Sans SC"'}e+=f+g}S(a,e+";")}n(b.fontStyle)&&S(a,kf(b.fontStyle));n(b.edgeType)&&(g=n(b.foregroundColor)?b.foregroundColor:"#FFFFFFFF",b=n(b.edgeColor)?jf(b.edgeColor,b.edgeType):jf(g,b.edgeType),S(a,b,!0))};
af.prototype.D=function(){E.prototype.D.call(this);for(var a=l(this.Ga),b=a.next();!b.done;b=a.next())this.f.removeChild(b.value);this.Ga.length=0;ff(this);gf(this);A(hf,y,"Disposed "+this.ea())};var hf=z("cast.receiver.TextTracksManager");var lf=function(a){this.J=T;this.f=a;this.kc=this.$b=this.ac=q;this.Oa=0;this.aa=this.cb=null;this.Yc=0;this.H=this.v=null;this.ib=!1;this.Db=!0;H(this.f,"error",this.mc,!1,this);H(this.f,"ended",this.Jb,!1,this);H(this.f,"loadedmetadata",this.qc,!1,this);D(this.J,"Using default Player")};h=lf.prototype;h.Wc=function(a,b,c,d){mf(this);this.Db=a;this.Oa=b;this.Yc=d||0;this.aa=c||null};h.mc=function(a){mf(this);this.ac(a)};h.Jb=function(){mf(this);this.$b()};
h.qc=function(){this.v&&this.H&&$e(this.v,this.H);this.kc()};h.registerErrorCallback=function(a){this.ac=a};h.registerEndedCallback=function(a){this.$b=a};h.registerLoadCallback=function(a){this.kc=a};h.unregisterErrorCallback=function(){this.ac=q};h.unregisterEndedCallback=function(){this.$b=q};h.unregisterLoadCallback=function(){this.kc=q};
var nf=function(a){var b=a.f.duration;if(isNaN(b)||null==a.aa)return b;if(null!=a.cb)return a.cb;a.cb=0<=a.aa?Math.min(a.Yc+a.aa,b):Math.max(b+a.aa,a.Oa);return a.cb},mf=function(a){null!=a.aa&&(I(a.f,"timeupdate",a.Uc,!1,a),a.cb=null,a.aa=null)};lf.prototype.Uc=function(){of(this)};var of=function(a){if(null==a.aa)return!1;var b=nf(a);return isNaN(b)?!1:a.f.currentTime>=b?(a.Jb(),!0):!1};h=lf.prototype;
h.load=function(a,b,c,d,e,f){this.v&&(this.v.O(),this.v=null);this.ib=!1;d&&d.tracks&&this.f&&(this.v&&this.v.O(),this.v=new af(this.f,d.tracks,d.activeTrackIds||[],d.textTrackStyle||null),d.language&&df(this.v,d.language));null!=this.aa&&H(this.f,"timeupdate",this.Uc,!1,this);e||(this.Oa=c&&0<c?c:0,D(this.J,"Load - contentId: "+a+" autoplay: "+b+" time: "+this.Oa),this.f.autoplay=!1,a&&(this.f.src=a),this.f.autoplay=b,this.f.load(),n(f)&&(this.f.playbackRate=f))};
h.reset=function(){this.ib=!1;this.v&&(this.v.O(),this.v=null);this.H=null;this.f.removeAttribute("src");this.Oa=0;this.f.load();mf(this)};h.play=function(){this.ib=!1;this.f.play()};h.seek=function(a,b){this.f.currentTime!=a&&(this.f.currentTime=a);of(this)||("PLAYBACK_START"==b&&this.f.paused?this.f.play():"PLAYBACK_PAUSE"!=b||this.f.paused||this.f.pause())};h.ld=function(a){return this.f.playbackRate=a};h.pause=function(){this.ib=!0;this.f.pause()};
h.getState=function(){null==this.Db&&(this.Db=this.f.autoplay);return this.f.paused||isNaN(this.f.duration)?this.f.duration&&(this.f.currentTime||0==this.f.currentTime)&&this.f.currentTime<nf(this)?this.f.currentTime==this.Oa&&this.Db&&!this.ib?"BUFFERING":"PAUSED":"IDLE":"PLAYING"};h.getCurrentTimeSec=function(){var a=nf(this);return isNaN(a)?this.f.currentTime:this.f.currentTime<a?this.f.currentTime:a};h.getDurationSec=function(){return nf(this)};
h.getVolume=function(){return{level:this.f.volume,muted:this.f.muted}};h.setVolume=function(a){n(a.level)&&(this.f.volume=a.level);n(a.muted)&&(this.f.muted=a.muted)};h.editTracksInfo=function(a){if(this.v){if(a.textTrackStyle){var b=this.v,c=a.textTrackStyle;Ye(b);Ze(b,c)}a.language?df(this.v,a.language):a.activeTrackIds&&$e(this.v,a.activeTrackIds)}this.yc(a.activeTrackIds);return this.H};
h.yc=function(a){this.H=(this.H=a?a.slice(0):this.H)||[];if(this.v){var b=cf(this.v);this.H=this.H.filter(function(a){return!b.includes(a)}).concat(ef(this.v))}0==this.H.length&&(this.H=null)};var pf=function(a){E.call(this);this.Na=a;this.m={}};ya(pf,E);var qf=[];pf.prototype.Ra=function(a,b,c,d){ra(b)||(b&&(qf[0]=b.toString()),b=qf);for(var e=0;e<b.length;e++){var f=H(a,b[e],c||this.handleEvent,d||!1,this.Na||this);if(!f)break;this.m[f.key]=f}return this};pf.prototype.Lc=function(a,b,c,d){return rf(this,a,b,c,d)};var rf=function(a,b,c,d,e,f){if(ra(c))for(var g=0;g<c.length;g++)rf(a,b,c[g],d,e,f);else{b=kc(b,c,d||a.handleEvent,e,f||a.Na||a);if(!b)return a;a.m[b.key]=b}return a};
pf.prototype.qb=function(a,b,c,d,e){if(ra(b))for(var f=0;f<b.length;f++)this.qb(a,b[f],c,d,e);else c=c||this.handleEvent,d=ta(d)?!!d.capture:!!d,e=e||this.Na||this,c=lc(c),d=!!d,b=ac(a)?a.fb(b,c,d,e):a?(a=nc(a))?a.fb(b,c,d,e):null:null,b&&(rc(b),delete this.m[b.key])};pf.prototype.vc=function(){Ta(this.m,function(a,b){this.m.hasOwnProperty(b)&&rc(a)},this);this.m={}};pf.prototype.D=function(){pf.Ya.D.call(this);this.vc()};
pf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var sf={nf:"persistent-release-message"};t("cast.receiver.eme.KeySessionType",sf);var tf=new Uint8Array([43,248,102,128,198,229,78,36,190,35,15,129,90,96,110,178]),U=function(a,b){this.j=new J;this.ze=b;this.R=a.createSession("persistent-license");this.sessionId="";this.expiration=this.R.expiration;this.closed=this.R.closed;this.keyStatuses=this.R.keyStatuses;this.Na=new pf(this);Hb(this.j,wa(Ib,this.Na))};t("cast.receiver.eme.KeySession",U);
U.createSession=function(a,b){a:{for(var c in sf)if(sf[c]==b)break a;throw Error("Unknown key session type: "+b);}a=new U(a,b);a.Na.Ra(a.R,"message",a.bd).Ra(a.R,"keystatuseschange",a.bd);return a};
U.prototype.generateRequest=function(a,b){if("persistent-release-message"==this.ze){if("cenc"!=a)throw Error("Only cenc initDataType is supported for persistent-release-message session type.");var c=new Uint8Array([0,0,0,0,112,115,115,104,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2]);c.set(tf,12);(new DataView(c.buffer)).setUint32(0,c.length);var d=new Uint8Array(b.byteLength+c.byteLength);d.set(new Uint8Array(b),0);d.set(c,b.byteLength);b=d}return this.R.generateRequest(a,b).then(r(function(){this.sessionId=
this.R.sessionId},this))};U.prototype.generateRequest=U.prototype.generateRequest;U.prototype.load=function(a){return this.R.load(a)};U.prototype.load=U.prototype.load;U.prototype.update=function(a){return this.R.update(a)};U.prototype.update=U.prototype.update;U.prototype.close=function(){this.j.O();return this.R.close()};U.prototype.close=U.prototype.close;U.prototype.remove=function(){return this.R.remove()};U.prototype.remove=U.prototype.remove;
U.prototype.bd=function(a){var b=new G(a.type);$a(b,a.Ka);b.target=this;this.j.dispatchEvent(b)};U.prototype.addEventListener=function(a,b){H(this.j,a,b)};U.prototype.addEventListener=U.prototype.addEventListener;U.prototype.removeEventListener=function(a,b){I(this.j,a,b)};U.prototype.removeEventListener=U.prototype.removeEventListener;U.prototype.dispatchEvent=function(a){a.target=this;return this.j.dispatchEvent(a)};U.prototype.dispatchEvent=U.prototype.dispatchEvent;var uf=z("cast");t("cast.receiver.logger",uf);t("cast.receiver.LoggerLevel",{DEBUG:0,VERBOSE:500,INFO:800,WARNING:900,ERROR:1E3,NONE:1500});uf.jd=function(a){uf&&uf.xc(Bb(a))};uf.setLevelValue=uf.jd;if(uf){var vf=parseInt(jd("log-level-cast-receiver"),10);uf.jd(vf||1E3)};var wf=function(a){return!!a&&"function"===typeof a.then};var xf=function(){this.da=[];this.ma=[]};xf.prototype.enqueue=function(a){this.ma.push(a)};var yf=function(a){0==a.da.length&&(a.da=a.ma,a.da.reverse(),a.ma=[]);return a.da.pop()};xf.prototype.hc=function(){return 0==this.da.length&&0==this.ma.length};xf.prototype.clear=function(){this.da=[];this.ma=[]};xf.prototype.contains=function(a){return 0<=Ga(this.da,a)||0<=Ga(this.ma,a)};xf.prototype.remove=function(a){var b=this.da;var c=Ha(b,a);0<=c?(Ia(b,c),b=!0):b=!1;return b||Ja(this.ma,a)};var V=function(){};t("cast.receiver.QueueBase",V);V.prototype.initialize=function(){return null};V.prototype.initialize=V.prototype.initialize;V.prototype.onCurrentItemIdChanged=function(){};V.prototype.onCurrentItemIdChanged=V.prototype.onCurrentItemIdChanged;V.prototype.nextItems=function(){return[]};V.prototype.nextItems=V.prototype.nextItems;V.prototype.prevItems=function(){return[]};V.prototype.prevItems=V.prototype.prevItems;V.prototype.fetchItems=function(){return[]};
V.prototype.fetchItems=V.prototype.fetchItems;V.prototype.onItemsInserted=function(){};V.prototype.onItemsInserted=V.prototype.onItemsInserted;V.prototype.onItemsRemoved=function(){};V.prototype.onItemsRemoved=V.prototype.onItemsRemoved;V.prototype.shuffle=function(){return null};V.prototype.shuffle=V.prototype.shuffle;var zf=function(a){this.itemId=a;this.customData=this.activeTrackIds=this.preloadTime=this.playbackDuration=this.startTime=this.autoplay=this.media=void 0};t("cast.receiver.media.QueueItem",zf);
var Af=function(a,b){var c=new zf(a.itemId);c.autoplay=a.autoplay;c.startTime=a.startTime;c.playbackDuration=a.playbackDuration;c.preloadTime=a.preloadTime;c.activeTrackIds=a.activeTrackIds;c.customData=a.customData;if(void 0===b||b)c.media=a.media;return c},W=function(a){this.a=void 0;this.N="REPEAT_OFF";this.Pb=this.i=0;this.Xc=this.b=void 0;this.gc=a;this.Ea=1};t("cast.receiver.MediaQueue",W);
var Df=function(a,b){if(a.b)return Promise.resolve(a.b.initialize(b)).then(function(c){c?Bf(a,c,!0,!0):Cf(a,b)});Cf(a,b)},Cf=function(a,b){var c=b.queueData;c&&c.items?Bf(a,c):(c=new zf(a.gc()),c.media=b.media,c.autoplay=b.autoplay,c.activeTrackIds=b.activeTrackIds,c.customData=b.customData,a.a=[c])},Bf=function(a,b,c,d){d=void 0===d?!1:d;Ef(a,b,void 0===c?!1:c)||C(Ff,"The passed in queueData is not completely valid: "+b);a.Xc=b;d&&b.items&&Gf(b.items);a.a=b.items;a.N=b.repeatMode||a.N;a.i=b.startIndex||
0;a.Pb=b.startTime||0},Gf=function(a){a=l(a);for(var b=a.next();!b.done;b=a.next())b=b.value,b.preloadTime=null!=b.preloadTime?b.preloadTime:0};
W.prototype.fetchItems=function(a,b,c,d){var e=this,f=void 0,g=Hf(this,b);this.b?0<c&&0<d?f="Queue operations only support expanding the front or back.":0>g&&(f="Reference item id is not in current queue."):f="Fetch items is only supported with an external queue.";if(f)return C(Ff,f),Promise.reject(f);0<c?(f=this.a.length-1,c-=f-g,b=Ea(this.a[f].itemId)):0<d&&(d-=g,b=Ea(this.a[0].itemId));var u=new Id;u.requestId=a;return 0>=c&&0>=d?(u.changeType="NO_CHANGE",u.sequenceNumber=this.Ea-1,Promise.resolve(u)):
Promise.resolve(this.b.fetchItems(b,c,d)).then(function(a){if(a&&0!=a.length){var d=0<c?void 0:b;If(e,a,d);u.changeType="INSERT";u.itemIds=a.map(function(a){return a.itemId});u.insertBefore=d;u.sequenceNumber=e.Ea++}else u.changeType="NO_CHANGE",u.sequenceNumber=e.Ea-1;return u})};
var Jf=function(a,b,c){var d=new Jd;d.requestId=b;d.items=[];if(a.a)for(b=l(c),c=b.next();!c.done;c=b.next()){c=c.value;for(var e=l(a.a),f=e.next();!f.done;f=e.next())if(f=f.value,f.itemId==c){d.items.push(f);break}C(Ff,"Unknown item id: "+c)}return d},Kf=function(a,b){var c=new Kd;c.requestId=b;c.itemIds=a.ec().map(function(a){return a.itemId});return c},Lf=function(a,b){return new Promise(function(c,d){v(a.b);var e=void 0,f=a.i+b;0<=f&&f<a.a.length?(e=new Id,e.changeType="NO_CHANGE",c(e)):(f=a.Dc(),
Ea(f),1==b?e=a.b.nextItems.bind(a.b,f):-1==b?e=a.b.prevItems.bind(a.b,f):1<b?e=a.b.fetchItems.bind(a.b,f,b,0):-1>b?e=a.b.fetchItems.bind(a.b,f,0,-b):d("Should not be requesting more items on the current item"),Promise.resolve(e()).then(function(d){Gf(d);var e=new Id;if(0<d.length){D(Ff,"Fetched more items "+d);var f=0<=b?void 0:a.a[0].itemId;If(a,d,f);e.changeType="INSERT";e.itemIds=d.map(function(a){return a.itemId});e.insertBefore=f;e.sequenceNumber=a.Ea++}else e.changeType="NO_CHANGE",e.sequenceNumber=
a.Ea-1;c(e)},function(){return d("Failed to get more items from the queue.")}))})};W.prototype.clear=function(){this.a=void 0;this.N="REPEAT_OFF";this.Pb=this.i=0};W.prototype.ec=function(a,b){a=void 0===a?!0:a;b=void 0===b?!1:b;var c=[],d=this.a.length;d=b&&this.i<d-1?this.i+1:d-1;for(b=b&&0<this.i?this.i-1:0;b<=d;b++)c.push(a?this.a[b]:Af(this.a[b],a));return c};W.prototype.getItems=W.prototype.ec;W.prototype.ne=function(){return this.a.length};W.prototype.getLength=W.prototype.ne;
W.prototype.re=function(){return this.N};W.prototype.getRepeatMode=W.prototype.re;W.prototype.Dc=function(){if(!(0>this.i)){var a=this.a[this.i].itemId;Ea(a);return a}};W.prototype.getCurrentItemId=W.prototype.Dc;W.prototype.Ma=function(){return!this.a||0>this.i?null:this.a[this.i]};W.prototype.getCurrentItem=W.prototype.Ma;W.prototype.le=function(){return this.i};W.prototype.getCurrentItemIndex=W.prototype.le;
var Mf=function(a,b){for(var c=[],d=0;d<b.length;d++)for(var e=0;e<a.a.length;e++)if(b[d]==a.a[e].itemId){c.push(b[d]);break}return c},Nf=function(a){return"REPEAT_ALL_AND_SHUFFLE"==a.N},Hf=function(a,b){for(var c=0;c<a.a.length;c++)if(b==a.a[c].itemId)return c;return-1},Of=function(a){return"REPEAT_ALL_AND_SHUFFLE"==a.N||"REPEAT_ALL"==a.N};W.prototype.reset=function(){this.i=-1};
var Qf=function(a,b){b=Hf(a,b);if(-1==b||a.i==b)return!1;Pf(a,b);return!0},If=function(a,b,c,d){v(a.a);for(var e=l(b),f=e.next();!f.done;f=e.next())f=f.value,p(f.itemId)||(f.itemId=a.gc());e=p(c)?Hf(a,c):a.a.length;e=-1==e?a.a.length:e;wa(La,a.a,e,0).apply(null,b);n(d)?a.i=e+d:a.i>=e&&(a.i+=b.length);if(a.b)a.b.onItemsInserted(b,c)},Rf=function(a,b){return a.b?(b&&C(Ff,b+" not supported when external queue is provided."),!0):!1},Tf=function(a,b,c){if(0>a.i)return"QUEUE_ENDED";b=a.i+b;var d=!1;b>=
a.a.length?(b=Of(a)?b%a.a.length:-1,d=!0):0>b&&(b=Of(a)?a.a.length+(b+1)%a.a.length-1:0,d=!0);c&&Pf(a,b);return-1==b?"QUEUE_ENDED":d?Nf(a)?(Sf(a),"QUEUE_SHUFFLED"):"QUEUE_LOOP":"QUEUE_ACTIVE"};W.prototype.shuffle=function(){var a=this;if(this.b)return Promise.resolve(this.b.shuffle()).then(function(b){b&&(a.a=b)});Sf(this);return Promise.resolve()};
var Sf=function(a){var b=a.a.length;if(!(3>a.a.length))for(;0<b;){var c=Math.floor(Math.random()*b);--b;var d=a.a[c];a.a[c]=a.a[b];a.a[b]=d}},Ef=function(a,b,c){c=void 0===c?!1:c;if(n(b.startIndex)&&(!p(b.startIndex)||0>b.startIndex))return B(Ff,"Invalid startIndex "+b.startIndex),!1;var d=(b.startIndex||0)+1;if(!b.items||b.items.length<d)return B(Ff,"Invalid number of items"),!1;if(b.repeatMode&&!Ld(b.repeatMode))return B(Ff,"Invalid repeatMode"),!1;for(d=0;d<b.items.length;d++)if(b.items[d].media){if(!c&&
n(b.items[d].itemId))return B(Ff,"ItemId should not be defined, element at index: "+d),!1;b.items[d].itemId=p(b.items[d].itemId)?b.items[d].itemId:a.gc()}else return B(Ff,"Media is mandatory, missing in element at index: "+d),!1;return!0},Pf=function(a,b){a.i=b;if(a.b&&0<=b&&b<a.a.length)a.b.onCurrentItemIdChanged(Ea(a.a[b].itemId))},Uf=function(a){return a.b&&a.a&&0<a.a.length&&a.i==a.a.length-1?Lf(a,1):Promise.reject("No need to prefetch more for now.")},Ff=z("cast.receiver.MediaQueue");var Vf=function(a){var b=this;this.Rc=a;this.o=null;this.Hc="sdr";this.$c=function(){b.Rc()}},Wf=function(a){return a.o?a.o.videoWidth:0},Xf=function(a){return a.o?a.o.videoHeight:0};var X=function(a,b,c){var d=this,e=O.fa();Ae.fa();this.ta=c||"local";this.V=e.La("urn:x-cast:com.google.cast.media","JSON");this.ia=0;this.lb=this.ra=null;this.Ta=1;this.df=b||15;this.od=this.Oc=this.Qa=this.qa=this.g=this.h=null;this.ha=!1;this.ga=this.s=null;this.Eb=!0;this.$a=null;this.Vb=this.Ad.bind(this);this.b=new W(this.Cc.bind(this));this.Za=!1;this.za=null;this.Fe=1;this.Nb=-1;this.Gb=new xf;this.Pa=!1;this.Aa=[];this.customizedStatusCallback=this.Fd;this.customizedCloudStatusCallback=null;
this.onLoad=this.Qd;this.onPlay=this.Ud;this.onPlayAgain=this.Td;this.onSeek=this.$d;this.onSkipAd=null;this.onSetPlaybackRate=this.ae;this.onPause=this.Sd;this.onStop=this.de;this.onSetVolume=this.be;this.onEditTracksInfo=this.Id;this.onEditAudioTracks=this.Hd;this.onQueueLoad=this.Xd;this.onQueueInsert=this.Wd;this.onQueueUpdate=this.Bc;this.onQueueRemove=this.Yd;this.onQueueReorder=this.Zd;this.onMetadataLoaded=this.Rd;this.onLoadMetadataError=this.Pd;this.onEnded=this.Jd;this.onQueueEnded=this.Vd;
this.onAbort=q;this.onError=this.Kd;this.onMediaStatus=this.onLocalRequestError=q;this.onPreload=this.onPrecache=null;this.onFetchItems=this.Ld;this.onGetItemsInfo=this.Md;this.onGetQueueIds=this.Nd;this.onShuffle=this.ce;this.xa=this.onCancelPreload=null;this.onGetStatus=this.Od;this.sb=new Vf(this.l.bind(this,!1));e.oc=function(a){var b=d.sb;b.Hc=a;b.Rc()};this.j=new J;this.Kc=this.qd=this.limitQueueItemsInStatus=!1;this.kd(a);this.V.onMessage=this.pc.bind(this);this.$a=cd(this.Vb,1E3)};
t("cast.receiver.MediaManager",X);X.prototype.ea=function(){return"MediaManager"};X.prototype.Cc=function(){return this.Fe++};X.prototype.Fc=function(){return this.g?this.g.media||null:null};X.prototype.getMediaInformation=X.prototype.Fc;X.prototype.oe=function(){return n(this.b.a)?this.b:null};X.prototype.getMediaQueue=X.prototype.oe;
X.prototype.xe=function(a,b,c,d,e){a=new Yf(a);a.insertBefore=null!=b?b:void 0;a.currentItemIndex=null!=c?c:void 0;a.currentItemId=null!=d?d:void 0;a.currentTime=null!=e?e:void 0;a.type="QUEUE_INSERT";Zf(this,this.ta,a)};X.prototype.insertQueueItems=X.prototype.xe;X.prototype.Oe=function(a,b,c){a=new $f(a);a.currentItemId=null!=b?b:void 0;a.currentTime=null!=c?c:void 0;a.type="QUEUE_REMOVE";Zf(this,this.ta,a)};X.prototype.removeQueueItems=X.prototype.Oe;
X.prototype.Ve=function(a,b,c){b=!n(b)||b;if(c&&!b)throw Error("No broadcast call but status customData has been provided");this.g&&(this.g.media=a);b&&this.l(!0,null,c)};X.prototype.setMediaInformation=X.prototype.Ve;
var ag=function(a){for(var b=0;b<a.length;b++)if(!n(a[b].trackId)||!n(a[b].type))return!1;return!0},bg=function(a,b){if(!b||0==b.length)return!0;if(!a||b.length>a.length)return B(T,"Too many track IDs"),!1;for(var c=0,d=0,e=0;e<b.length;e++){for(var f=!1,g=0;g<a.length;g++)if(b[e]==a[g].trackId){f=!0;break}if(!f)return B(T,"Track ID does not exist: "+b[e]),!1;"AUDIO"==a[g].type?d++:"VIDEO"==a[g].type&&c++;if(1<d||1<c)return B(T,"Maximum one active video and one active audio track supported"),!1}return!0},
Zf=function(a,b,c){c.mediaSessionId=a.ia;a.pc(new Od("message",b,c))};
X.prototype.pc=function(a){var b=a.data,c=b.type;if(!this.Pa||this.Gb.hc()&&"LOAD"==c){a=a.senderId;var d=b.type;var e=b.requestId;if(p(e)&&e==Math.floor(e)){var f=!1;void 0!=b.mediaSessionId&&b.mediaSessionId!=this.ia?(B(T,"Invalid media session ID: "+b.mediaSessionId+"  does not match the expected ID: "+this.ia),f=!0):"LOAD"!=d&&"PLAY_AGAIN"!=d&&"GET_STATUS"!=d&&"QUEUE_LOAD"!=d&&"PRECACHE"!=d&&(n(b.mediaSessionId)?"IDLE"==cg(this)&&(B(T,"Unexpected command, player is in IDLE state so the media session ID is not valid yet"),
f=!0):(B(T,"Invalid media session ID, it is undefined"),f=!0));f?(this.W(a,e,"INVALID_REQUEST","INVALID_MEDIA_SESSION_ID"),d=!1):(A(T,y,"MediaManager message received"),d=!0)}else B(T,"Ignoring request, requestId is not an integer: "+e),d=!1;if(d){d=b.requestId;delete b.type;e=null;switch(c){case "LOAD":this.Za=!1;e=dg(this,a,b,!0);break;case "GET_STATUS":D(T,"Dispatching MediaManager getStatus event");b=new Y("getstatus",b,a);if(this.onGetStatus)this.onGetStatus(b);this.c(b);e=null;break;case "PLAY":D(T,
"Dispatching MediaManager play event");b=new Y("play",b,a);if(this.onPlay)this.onPlay(b);this.c(b);e=null;break;case "PLAY_AGAIN":D(T,"Dispatching MediaManager play again event");b=new Y("playagain",b,a);if(this.onPlayAgain)this.onPlayAgain(b);this.c(b);e=null;break;case "SEEK":if(n(b.currentTime)||n(b.relativeTime)){D(T,"Dispatching MediaManager seek event");b=new Y("seek",b,a);if(this.onSeek)this.onSeek(b);this.c(b);e=null}else B(T,"currentTime or relativeTime is required"),e={type:"INVALID_REQUEST",
reason:"INVALID_PARAMS"};break;case "SET_PLAYBACK_RATE":(e=b.playbackRate)||(e=b.relativePlaybackRate*this.Ta);if(!p(e)||.5>e||2<e)B(T,"Bad value for playback rate "+e),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{D(T,"Dispatching MediaManager playback rate event");b=new Y("setplaybackrate",b,a);if(this.onSetPlaybackRate)this.onSetPlaybackRate(b);this.c(b);e=null}break;case "STOP":D(T,"Dispatching MediaManager stop event");b=new Y("stop",b,a);if(this.onStop)this.onStop(b);this.c(b);e=null;
break;case "PAUSE":D(T,"Dispatching MediaManager pause event");b=new Y("pause",b,a);if(this.onPause)this.onPause(b);this.c(b);e=null;break;case "SKIP_AD":D(T,"Dispatching MediaManager skip ad event");e=new Y("skipad",b,a);if(this.onSkipAd)this.onSkipAd(e);else this.W(a,b.requestId,"INVALID_REQUEST","NOT_SUPPORTED");this.c(e);e=null;break;case "SET_VOLUME":if(b.volume&&(n(b.volume.level)||n(b.volume.muted)))if(void 0!=b.volume.level&&0>b.volume.level||1<b.volume.level)B(T,"volume level is invalid"),
e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{D(T,"Dispatching MediaManager setvolume event");b=new Y("setvolume",b,a);if(this.onSetVolume)this.onSetVolume(b);this.c(b);e=null}else B(T,"volume is invalid"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};break;case "EDIT_TRACKS_INFO":D(T,"Dispatching MediaManager editTracksInfo event");if(bg(this.g.media.tracks,b.activeTrackIds)){e=new Y("edittracksinfo",b,a);b.textTrackStyle&&(this.g.media.textTrackStyle=b.textTrackStyle);b.activeTrackIds&&
(this.g.activeTrackIds=b.activeTrackIds);if(this.onEditTracksInfo)this.onEditTracksInfo(e);this.c(e);e=null}else B(T,"Invalid track info"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};break;case "EDIT_AUDIO_TRACKS":D(T,"Dispatching MediaManager editAudioTracks event");b=new Y("editaudiotracks",b,a);if(this.onEditAudioTracks)this.onEditAudioTracks(b);this.c(b);e=null;break;case "QUEUE_LOAD":this.Za=!0;D(T,"Dispatching MediaManager queueLoad event");if(Ef(this.b,b)){b.items=eg(b.items);b=new Y("queueload",
b,a);if(this.onQueueLoad)this.onQueueLoad(b);this.c(b);e=null}else e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};break;case "QUEUE_INSERT":this.Za=!0;D(T,"Dispatching MediaManager queueInsert event");e=!1;if(n(this.b.a))if(b.items&&0!=b.items.length)if(n(b.currentItemId)&&n(b.currentItemIndex))B(T,"Maximum one currentItem must be provided"),e=!0;else if(n(b.currentItemIndex)&&(!p(b.currentItemIndex)||0>b.currentItemIndex||b.currentItemIndex>=b.items.length))B(T,"Invalid currentItemIndex"),e=
!0;else if(n(b.currentItemId)&&(!p(b.currentItemId)||0>b.currentItemId))B(T,"Invalid currentItemId"),e=!0;else for(c=0;c<b.items.length;c++)if(p(b.items[c].itemId)){B(T,"Item contains an itemId at index: "+c);e=!0;break}else b.items[c].itemId=this.Cc();else B(T,"No items to insert"),e=!0;else B(T,"Queue does not exist"),e=!0;if(e)e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{b.items=eg(b.items);b=new Y("queueinsert",b,a);if(this.onQueueInsert)this.onQueueInsert(b);this.c(b);e=null}break;
case "QUEUE_UPDATE":e=fg(this,a,b);break;case "QUEUE_REMOVE":D(T,"Dispatching MediaManager queueRemove event");e=!1;n(this.b.a)?b.itemIds&&0!=b.itemIds.length?gg(b.itemIds)||(e=!0):(B(T,"No itemIds to remove"),e=!0):(B(T,"Queue does not exist"),e=!0);if(e)e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{b.itemIds&&(b.itemIds=Mf(this.b,b.itemIds));b=new Y("queueremove",b,a);if(this.onQueueRemove)this.onQueueRemove(b);this.c(b);e=null}break;case "QUEUE_REORDER":D(T,"Dispatching MediaManager queueReorder event");
e=!1;n(this.b.a)?b.itemIds&&0!=b.itemIds.length?gg(b.itemIds)?n(b.insertBefore)&&0<=Ga(b.itemIds,b.insertBefore)&&(B(T,"insertBefore can not be one of the reordered items"),e=!0):e=!0:(B(T,"No itemIds to reorder"),e=!0):(B(T,"Queue does not exist"),e=!0);if(e)e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{b.itemIds&&(b.itemIds=Mf(this.b,b.itemIds));b=new Y("queuereorder",b,a);if(this.onQueueReorder)this.onQueueReorder(b);this.c(b);e=null}break;case "PRECACHE":b=new Y("precache",b,"__broadcast__");
if(this.onPrecache)this.onPrecache(b);this.c(b);break;case "QUEUE_NEXT":c=new hg;c.jump=1;c.requestId=b.requestId;fg(this,a,c);break;case "QUEUE_PREV":c=new hg;c.jump=-1;c.requestId=b.requestId;fg(this,a,c);break;case "QUEUE_GET_ITEM_RANGE":b=new Y("getitemsrange",b,a);if(this.onFetchItems)this.onFetchItems(b);this.c(b);break;case "QUEUE_GET_ITEMS":b=new Y("getitemsinfo",b,a);if(this.onGetItemsInfo)this.onGetItemsInfo(b);this.c(b);break;case "QUEUE_GET_ITEM_IDS":b=new Y("getqueueids",b,a);if(this.onGetQueueIds)this.onGetQueueIds(b);
this.c(b);break;case "QUEUE_SHUFFLE":b=new Y("shuffle",b,a);if(this.onShuffle)this.onShuffle(b);this.c(b);break;default:B(T,"Unexpected message type: "+c),e={type:"INVALID_REQUEST",reason:"INVALID_COMMAND"}}ig(this,e,a,d)}}else C(T,"Load is in progress, media command is being queued."),this.Gb.enqueue(a)};
var ig=function(a,b,c,d){b&&(B(T,"Sending error: "+b.type+" "+b.reason),a.onLocalRequestError&&c==a.ta?(b.requestId=d,a.onLocalRequestError(b)):a.W(c,d,b.type,b.reason))},cg=function(a){if(!a.g)return"IDLE";var b=a.h.getState();return"PLAYING"==b&&a.ha?"BUFFERING":b},jg=function(a,b,c,d){var e={type:"MEDIA_STATUS"},f=a.s&&a.s.message.media||null;if(!a.g&&!a.qa&&!f)return e.status=[],e;var g={mediaSessionId:a.ia,playbackRate:a.Ta,playerState:cg(a),currentTime:a.h.getCurrentTimeSec(),supportedMediaCommands:a.df,
volume:a.h.getVolume()};a.za&&(g.preloadedItemId=a.za);var u=Wf(a.sb),K=Xf(a.sb);0<u&&0<K&&(g.videoInfo=new Dd(u,K,a.sb.Hc));if(a.g)g.activeTrackIds=a.g.activeTrackIds,b&&(g.media=a.Fc()||void 0,u=a.b.Xc)&&(g.queueData=Xa(u),g.queueData.items=void 0),g.currentItemId=a.g.itemId;else if(a.qa&&(b&&(g.media=a.qa.media||void 0),g.currentItemId=a.qa.itemId,a.qa=null),n(a.b.a)&&(u=a.b.Ma()))g.loadingItemId=u.itemId;"IDLE"==g.playerState?(a.ga&&(g.idleReason=a.ga),f&&(g.extendedStatus=new Fd("LOADING",f))):
a.ga=null;void 0!=c&&(g.customData=c);n(a.b.a)&&(d&&(g.items=a.b.ec(b,a.limitQueueItemsInStatus)),g.repeatMode=a.b.N);if(a.customizedStatusCallback)return b=function(a){a?e.status=[a]:e=null;return e},c=a.customizedStatusCallback(g),a.Kc=!!g.breakStatus,wf(c)?c.then(b):b(c);e.status=[g];return e},kg=function(a){null!=a.lb&&(m.clearTimeout(a.lb),a.lb=null)},lg=function(a){var b=a.h.getCurrentTimeSec();a.Qa=b;a.Oc=b;a.od=Date.now();null!=a.$a&&m.clearTimeout(a.$a);a.$a=cd(a.Vb,1E3)};
X.prototype.Ad=function(){this.$a=cd(this.Vb,1E3);var a=cg(this);if("IDLE"!=a&&"PAUSED"!=a){this.Pa&&"PLAYING"==a&&(C(T,"Triggering load complete, since media is playing."),this.wc());a=this.Qa;this.Qa=this.h.getCurrentTimeSec();var b=this.ha;this.ha=this.qd?"BUFFERING"===this.h.getState():100>1E3*(this.Qa-a);b!=this.ha?(A(T,y,"Buffering state changed, isPlayerBuffering: "+this.ha+" old time: "+a+" current time: "+this.Qa),this.l(!1)):this.ha||this.Kc||(a=1E3*(this.Qa-this.Oc)-this.Ta*(Date.now()-
this.od),1E3<a||-1E3>a?(A(T,y,"Time drifted: "+a),this.l(!1)):this.g&&n(this.b.a)&&(a=this.b,(a=0>a.i?null:"REPEAT_SINGLE"==a.N?a.a[a.i]:a.i+1>=a.a.length&&(Nf(a)||"REPEAT_OFF"==a.N)?null:a.a[(a.i+1)%a.a.length])&&p(a.preloadTime)&&this.g.media&&!this.s&&mg(this,a.preloadTime)&&this.za!=a.itemId&&(this.onPreload?(Ea(a.itemId),b=new ng(a.itemId),b.requestId=0,b.mediaSessionId=this.ia,b.autoplay=a.autoplay,b.currentTime=a.startTime,b.customData=a.customData||void 0,b.activeTrackIds=a.activeTrackIds,
b.media=a.media,b=new Y("preload",b,""),Ea(a.itemId),this.za=a.itemId,D(T,"Sending preload event: "+JSON.stringify(b)),this.onPreload(b)&&this.l(!1)):D(T,"Not sending preload event"))))}};X.prototype.l=function(a,b,c,d){var e=this;if(this.h){A(T,y,"Sending broadcast status message");var f=function(a){if(null!=a){if(e.onMediaStatus&&a.status)e.onMediaStatus(a.status[0]||null);a.requestId=b||0;e.V.Ub(a);lg(e);og(e,a)}};a=jg(this,a,c,d);wf(a)?a.then(f):f(a)}else B(T,"Not sending broadcast status message, state is invalid")};
X.prototype.broadcastStatus=X.prototype.l;X.prototype.Te=function(a){A(T,y,"Setting IDLE reason: "+a);this.ga=a};X.prototype.setIdleReason=X.prototype.Te;X.prototype.W=function(a,b,c,d,e){D(T,"Sending error message to "+a);var f={};f.requestId=b;f.type=c;d&&(f.reason=d);e&&(f.customData=e);this.xa&&this.xa(f);this.V.send(a,f)};X.prototype.sendError=X.prototype.W;
X.prototype.gd=function(a,b,c,d,e){var f=this;if(this.h){A(T,y,"Sending status message to "+a);var g=function(c){if(null!=c){if(f.onMediaStatus&&c.status)f.onMediaStatus(c.status[0]||null);c.requestId=b;f.V.send(a,c);lg(f)}};c=jg(this,c,d,e);wf(c)?c.then(g):g(c)}else B(T,"State is invalid"),this.W(a,b,"INVALID_PLAYER_STATE",null,d)};X.prototype.sendStatus=X.prototype.gd;
var og=function(a,b){if(a.customizedCloudStatusCallback){b=Ya(b);b.type="CLOUD_STATUS";try{b=a.customizedCloudStatusCallback(b)}catch(c){B(T,"Cloud status handler failed. "+c);return}wf(b)?b.then(function(b){a.V.send("__cloud__",b)}):a.V.send("__cloud__",b)}};X.prototype.Fd=function(a){return a};var pg=function(a){a.s=null;if(a.Pa)for(a.Pa=!1;!a.Gb.hc()&&!a.Pa;)a.pc(yf(a.Gb))};X.prototype.load=function(a){a.type="LOAD";Zf(this,this.ta,a)};X.prototype.load=X.prototype.load;
X.prototype.Me=function(a){a.type="QUEUE_LOAD";Zf(this,this.ta,a)};X.prototype.queueLoad=X.prototype.Me;
var dg=function(a,b,c,d,e){D(T,"Dispatching MediaManager load event");D(T,"Load message received:"+JSON.stringify(c));var f=!1,g=e;c.media||c.queueData?c.media&&c.media.tracks&&!ag(c.media.tracks)?(B(T,"Invalid tracks information"),f=!0):c.activeTrackIds&&c.media&&!bg(c.media.tracks,c.activeTrackIds)&&(f=!0):(B(T,"Media or QueueData is mandatory"),f=!0);e=c.playbackRate;if(n(e)&&(!p(e)||.5>e||2<e))return B(T,"Bad value for playback rate "+e),{type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};if(f)return g&&
g(),{type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};a.s?a.Ob("LOAD_CANCELLED"):a.g&&(a.ob("INTERRUPTED",!1),g=a.l.bind(a,!0));a.s={senderId:b,message:c};g&&g();a.Pa=!0;if(d&&(a.ia++,a.ga=null,a.Za=n(c.queueData),d=Df(a.b,c),wf(d)))return d.then(function(){a.Za=!0;var d=a.b.Ma();!d||!d.media||c.media&&d.media.contentId==c.media.contentId||(c.media&&D(T,"Implementation of queueing has provided "+d.media.contentId+" as the first item whilethe original media portion of the LOAD provided "+c.media.contentId),
c.media=d.media,c.autoplay=c.autoplay||d.autoplay,c.currentTime=c.currentTime||d.startTime||a.b.Pb);qg(a,b,c,g)},function(){a.Ob("LOAD_FAILED")}),null;qg(a,b,c,g);return null},qg=function(a,b,c,d){a.g=Ya(a.b.Ma());a.Aa=[];c.media=a.g.media||c.media;a.g.activeTrackIds=c.activeTrackIds;kg(a);a.ra=c;if(a.Eb&&a.h.Wc){var e=a.b.Pb;a.h.Wc(n(c.autoplay)?c.autoplay:!0,0<c.currentTime?c.currentTime:0<e?e:0,a.g.playbackDuration,a.g.startTime)}e=new Y("load",c,b);a.onLoad&&(a.Ta=c.playbackRate?c.playbackRate:
1,a.onLoad(e));a.c(e);d||a.l(!0);a.za=null;Uf(a.b).then(function(d){rg(a,d,b,c)},function(a){D(T,a)})};X.prototype.Qd=function(a){a=a.data;if(a.media&&(a.media.contentUrl||a.media.contentId)){var b=n(a.autoplay)?a.autoplay:!0,c=a.media.contentUrl||a.media.contentId;a.media.tracks?this.h.load(c,b,a.currentTime,{tracks:a.media.tracks,activeTrackIds:a.activeTrackIds,textTrackStyle:a.media.textTrackStyle},void 0,a.playbackRate):this.h.load(c,b,a.currentTime,void 0,void 0,a.playbackRate)}};
X.prototype.De=function(a){if(!this.s)return!1;a.tracks=a.tracks||void 0;if(a.tracks&&!ag(a.tracks))return B(T,"Invalid tracks information"),!1;if(a.activeTrackIds&&!bg(a.tracks,a.activeTrackIds))return B(T,"Invalid active tracks"),!1;this.g&&this.g.media&&(this.g.activeTrackIds=a.activeTrackIds,this.g.media.tracks=a.tracks,this.g.media.textTrackStyle=a.textTrackStyle);this.h.load("",!1,void 0,a,!0);return!0};X.prototype.loadTracksInfo=X.prototype.De;
X.prototype.kd=function(a){if(a!=this.h){this.h&&(this.h.unregisterErrorCallback(),this.h.unregisterEndedCallback(),this.h.unregisterLoadCallback());this.h=(this.Eb=a.getState?!1:!0)?new lf(a):a;this.h.registerErrorCallback(this.mc.bind(this));this.h.registerEndedCallback(this.Jb.bind(this));this.h.registerLoadCallback(this.qc.bind(this));var b=this.sb;b.o&&b.o.removeEventListener("resize",b.$c);var c=null;a.tagName&&"video"==a.tagName.toLowerCase()?c=a:(a=document.getElementsByTagName("video"),1==
a.length&&(c=a[0]));b.o=c;b.o&&b.o.addEventListener("resize",b.$c)}};X.prototype.setMediaElement=X.prototype.kd;X.prototype.qc=function(){if(this.s){D(T,"Metadata loaded");if(this.g&&this.g.media){var a=this.h.getDurationSec();-1==a&&"LIVE"!=this.g.media.streamType&&(C(T,"Media streamType is initially set wrong, changed to live."),this.g.media.streamType="LIVE");this.g.media.duration=a;this.b.Ma().media.duration=a}this.ha=!0;if(this.onMetadataLoaded)this.onMetadataLoaded(this.s);else pg(this)}};
X.prototype.Rd=function(a){this.Eb&&a.message&&void 0!=a.message.currentTime&&a.message.currentTime!=this.h.getCurrentTimeSec()&&this.h.seek(a.message.currentTime);this.wc()};X.prototype.mc=function(a){if(this.s)if(B(T,"Load metadata error: "+a),this.onLoadMetadataError)this.onLoadMetadataError(this.s);else pg(this);else if(this.onError)this.onError(a)};
X.prototype.Ob=function(a,b){if(this.s){a=a||"LOAD_FAILED";if(this.s.senderId==this.ta){if(this.onLocalRequestError)this.onLocalRequestError({type:a})}else this.W(this.s.senderId,this.s.message.requestId,a,null,b);pg(this)}else B(T,"Not sending LOAD error as there is no on going LOAD request")};X.prototype.sendLoadError=X.prototype.Ob;X.prototype.wc=function(a){if(this.s){var b=this.s.message.requestId;this.l(!0,b,a,0!=b||this.limitQueueItemsInStatus);pg(this)}else B(T,"Not sending status as there is no on going LOAD request")};
X.prototype.sendLoadComplete=X.prototype.wc;X.prototype.Kd=function(){sg(this)};var sg=function(a,b,c){b=void 0===b?!1:b;c=void 0===c?!1:c;var d=a.b.i;if(n(a.b.a)&&-1!=d&&d<a.b.a.length-1)a.onEnded("ERROR");else a.ob("ERROR",b),c&&a.Ob("LOAD_FAILED")};X.prototype.Pd=function(){this.s&&""==this.s.senderId&&this.s.message&&0==this.s.message.requestId?sg(this,!0):sg(this,!1,!0)};X.prototype.Jb=function(){if(this.onEnded)this.onEnded()};
X.prototype.Jd=function(a){if(n(this.b.a)){var b=-1!=this.Nb?this.Nb:void 0;this.Nb=-1;tg(this,"REPEAT_SINGLE"==this.b.N?0:1,!1,b,void 0,void 0,void 0,void 0===a?"FINISHED":a)}};X.prototype.Vd=function(a,b){this.ob(a,!0,b)};var tg=function(a,b,c,d,e,f,g,u){c=a.Ce.bind(a,b,c,d,e,f,g,u);Rf(a.b)?Lf(a.b,b).then(c,c):c()};h=X.prototype;
h.Ce=function(a,b,c,d,e,f,g){g=g||"INTERRUPTED";if(n(this.b.a)&&"QUEUE_ENDED"!=Tf(this.b,a,!1)){var u=Tf(this.b,a,!0);D(T,"After "+a+" jump, transition is: "+u);if(a=ug(this,this.b.Ma(),void 0,f)){if(this.g&&(this.ga=g,this.qa=this.g,this.g=null,this.Aa=[],"QUEUE_SHUFFLED"==u&&(e=!0),"INTERRUPTED"==this.ga))this.onAbort();dg(this,"",a,!1,this.l.bind(this,b,c,d,e))}else if(this.onQueueEnded)this.onQueueEnded(g,c)}else if(this.onQueueEnded)this.onQueueEnded(g,c)};
h.Od=function(a){A(T,y,"onGetStatus");var b=a.data;A(T,y,"onGetStatus: "+JSON.stringify(b));var c=!0,d=!0;b.options&&(b.options&1&&(c=!1),b.options&1&&(d=!1));this.gd(a.senderId,a.data.requestId,c,null,d)};h.Ud=function(a){A(T,y,"onPlay");this.h.play();this.l(!1,a.data.requestId)};h.Td=function(a){A(T,y,"onPlayAgain");this.g?(this.h.seek(0),this.h.play(),this.l(!1,a.data.requestId)):this.ra&&(this.ra.type="LOAD",this.ra.autoplay=!0,Zf(this,this.ta,this.ra))};
h.$d=function(a){a=a.data;A(T,y,"onSeek: "+JSON.stringify(a));var b=n(a.relativeTime)?this.h.getCurrentTimeSec()+a.relativeTime:a.currentTime;Ea(b);this.h.seek(b,a.resumeState);"PAUSED"!=this.h.getState()&&(this.ha=!0);this.h.getCurrentTimeSec()<this.h.getDurationSec()?this.l(!1,a.requestId):this.Nb=a.requestId};
h.ae=function(a){a=a.data;A(T,y,"onSetPlaybackRate: "+JSON.stringify(a));this.h.ld?this.rd(this.h.ld(Number(a.playbackRate?a.playbackRate:this.Ta*a.relativePlaybackRate))):C(T,"setPlaybackRate is not supported");this.l(!1,a.requestId)};h.rd=function(a){this.Ta=a};X.prototype.updatePlaybackRate=X.prototype.rd;X.prototype.de=function(a){this.ob("CANCELLED",!0,a.data.requestId)};
X.prototype.ob=function(a,b,c,d){var e=this;b=!n(b)||b;if((d||c)&&!b)throw Error("customData and requestId should only be provided in broadcast mode");this.g?(this.b.clear(),this.h.reset(a),a&&(this.ga=a),this.qa=this.g,this.g=null,this.Aa=[],b&&this.l(!1,c,d,void 0)):D(T,"Nothing to reset, Media is already null");this.ra&&(kg(this),this.lb=cd(function(){e.ra=null;e.lb=null},9E5));if(a&&"INTERRUPTED"==a)this.onAbort()};X.prototype.resetMediaElement=X.prototype.ob;h=X.prototype;
h.Sd=function(a){this.h.pause();this.l(!1,a.data.requestId)};h.be=function(a){a=a.data;this.h.setVolume(a.volume);this.l(!1,a.requestId)};
h.Id=function(a){var b=a.data,c;a:{var d=this.g.media.tracks;if(c=b.language){if(d){d=l(d);for(var e=d.next();!e.done;e=d.next())if(e=e.value,"TEXT"==e.type&&n(e.language)&&za(e.language,c)){c=!0;break a}}c=!1}else c=!0}if(c){if(!b.activeTrackIds&&!b.language&&n(b.enableTextTracks))if(c=this.yc(b))b.activeTrackIds=c;else{this.W(a.senderId,b.requestId,"INVALID_REQUEST","INVALID_PARAMS");return}a={activeTrackIds:b.activeTrackIds,language:b.language,textTrackStyle:b.textTrackStyle};this.h.editTracksInfo&&
(this.g.activeTrackIds=this.h.editTracksInfo(a)||void 0);this.l(b.textTrackStyle?!0:!1,b.requestId)}else B(T,"Invalid track language"),this.W(a.senderId,b.requestId,"INVALID_REQUEST","LANGUAGE_NOT_SUPPORTED")};
h.yc=function(a){var b=this.g&&this.g.media&&this.g.media.tracks;if(!b||0==b.length)return B(T,"No tracks available"),null;b=b.filter(function(a){return"TEXT"==a.type}).map(function(a){return a.trackId});if(0==b.length)return B(T,"No text tracks available"),null;var c=this.g.activeTrackIds||[],d=b.filter(function(a){return 0<=c.indexOf(a)});if(!a.enableTextTracks){if(0<d.length)return this.Aa=d,c.filter(function(a){return 0>d.indexOf(a)})}else if(0==d.length)return a=c.concat(0<this.Aa.length?this.Aa:
[b[0]]),this.Aa=[],a;return c};h.Hd=function(a){var b=a.data,c;a:{var d=this.g.media.tracks;if(c=b.language){if(d){d=l(d);for(var e=d.next();!e.done;e=d.next())if(e=e.value,"AUDIO"==e.type&&n(e.language)&&za(e.language,c)){c=!0;break a}}c=!1}else c=!0}c?(this.h.fe&&(this.g.activeTrackIds=this.h.fe(b)),this.l(!1,b.requestId)):(B(T,"Invalid audio track language"),this.W(a.senderId,b.requestId,"INVALID_REQUEST","LANGUAGE_NOT_SUPPORTED"))};
var gg=function(a){if(2>a.length)return!0;for(var b=0;b<a.length;b++)for(var c=b+1;c<a.length;c++)if(a[b]==a[c])return B(T,"Duplicate itemId: "+a[b]+"at positions:"+b+" "+c),!1;return!0},vg=function(a){for(var b=0;b<a.length;b++){if(!p(a[b].itemId))return B(T,"Invalid itemId at position: "+b),!1;for(var c=b+1;c<a.length;c++){if(!p(a[c].itemId))return B(T,"Invalid itemId at position: "+c),!1;if(a[b].itemId==a[c].itemId)return B(T,"Duplicate itemId: "+a[b].itemId+"at positions:"+b+" "+c),!1}}return!0},
eg=function(a){for(var b=[],c=0;c<a.length;c++){var d=new zf(a[c].itemId);d.media=a[c].media;d.autoplay=a[c].autoplay;d.startTime=a[c].startTime;d.playbackDuration=a[c].playbackDuration;d.preloadTime=a[c].preloadTime;d.activeTrackIds=a[c].activeTrackIds;d.customData=a[c].customData;b.push(d)}return b},ug=function(a,b,c,d){if(!b)return null;var e=new wg;e.requestId=c||0;e.mediaSessionId=a.ia;e.type="LOAD";e.autoplay=b.autoplay;e.currentTime=n(d)?d:b.startTime;e.activeTrackIds=b.activeTrackIds;e.customData=
b.customData||void 0;e.media=b.media;return e},mg=function(a,b){if(a.g.media.duration-a.h.getCurrentTimeSec()<=b||0==b&&a.h.ye&&a.h.ye())return!0;if(null==a.za)return!1;a.za=null;if(!a.onCancelPreload)return!1;b=new Z("CANCEL_PRELOAD");b.requestId=0;b.mediaSessionId=a.ia;b=new Y("cancelpreload",b,"");D(T,"Sending cancel preload event: "+JSON.stringify(b));a.onCancelPreload(b)&&a.l(!1);return!1};
X.prototype.Xd=function(a){var b=a.data,c=ug(this,b.items?b.items[b.startIndex||0]:null,b.requestId,b.currentTime),d=new vd;d.items=b.items;d.startIndex=b.startIndex||0;d.startTime=b.currentTime;d.repeatMode=b.repeatMode||"REPEAT_OFF";c.queueData=d;c?dg(this,a.senderId,c,!0):B(T,"Queue Load request is invalid")};
X.prototype.Wd=function(a){a=a.data;D(T,"Queue insert data: "+JSON.stringify(a));var b=!1;n(a.currentItemId)&&(b=Qf(this.b,a.currentItemId));n(a.currentItemIndex)&&(b=!0);If(this.b,a.items,a.insertBefore,a.currentItemIndex);b?tg(this,0,!0,a.requestId,a.customData,!0,a.currentTime):this.l(!0,a.requestId,a.customData,!0)};
var fg=function(a,b,c){D(T,"Dispatching MediaManager queueUpdate event");var d=!1;n(a.b.a)?c.items&&!vg(c.items)?d=!0:c.repeatMode&&!Ld(c.repeatMode)&&(B(T,"Invalid repeatMode"),d=!0):(B(T,"Queue does not exist"),d=!0);if(d)return{type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};if(c.items&&0<c.items.length){d=a.b;for(var e=c.items,f=[],g=0;g<e.length;g++)for(var u=0;u<d.a.length;u++)if(e[g].itemId==d.a[u].itemId){f.push(e[g]);break}c.items=eg(f)}b=new Y("queueupdate",c,b);if(a.onQueueUpdate)a.onQueueUpdate(b);
a.c(b);return null};X.prototype.Ld=function(a){var b=this,c=a.data;this.b.fetchItems(c.requestId,c.itemId,c.nextCount,c.prevCount).then(function(d){rg(b,d,a.senderId,c)},function(){ig(b,{type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},a.senderId,c.requestId)})};var rg=function(a,b,c,d){"NO_CHANGE"==b.changeType&&n(c)?a.V.send(c,b):(a.V.Ub(b),a.limitQueueItemsInStatus&&a.l(!0,d.requestId,d.customData,!0))};h=X.prototype;h.Md=function(a){var b=a.data;this.V.send(a.senderId,Jf(this.b,b.requestId,b.itemIds))};
h.Nd=function(a){this.V.send(a.senderId,Kf(this.b,a.data.requestId))};h.ce=function(a){var b=this,c=a.data;this.b.shuffle().then(function(){b.l(!1,c.requestId,c.customData,!0)})};
h.Bc=function(a){var b=a.data;if(this.Za){D(T,"Queue update data: "+JSON.stringify(b));var c=!1;a=!1;p(b.currentItemId)&&(a=Qf(this.b,b.currentItemId));p(b.jump)&&(a=!0,this.limitQueueItemsInStatus&&(c=!0));b.repeatMode&&(this.b.N=b.repeatMode);if(b.items&&0<b.items.length){c=this.b;for(var d=b.items,e=0;e<d.length;e++)for(var f=0;f<c.a.length;f++)d[e].itemId==c.a[f].itemId&&(c.a[f]=d[e]);c=!0}b.shuffle&&(Sf(this.b),a=!0);a?tg(this,b.jump||0,c,b.requestId,b.customData,c,b.currentTime):this.l(c,b.requestId,
b.customData,c)}else a=a.senderId,"__inject__"==a&&this.onQueueUpdate==this.Bc?this.W(a,b.requestId,"INVALID_REQUEST","INVALID_COMMAND"):(D(T,"QUEUE_UPDATE request ignored"),this.l(!1,b.requestId))};
h.Yd=function(a){a=a.data;D(T,"Queue remove data: "+JSON.stringify(a));var b=!1;p(a.currentItemId)&&(b=Qf(this.b,a.currentItemId));if(a.itemIds&&0!=a.itemIds.length){if(!b){b=this.b;for(var c=a.itemIds,d=!1,e=0;e<c.length;e++)for(var f=0;f<b.a.length;f++)if(c[e]==b.a[f].itemId){b.a.splice(f,1);b.i==f?d=!0:b.i>f&&b.i--;break}b.i>=b.a.length&&(b.i=Of(b)?0:-1,Nf(b)&&0==b.i&&Sf(b));if(b.b)b.b.onItemsRemoved(c);b=d}b?tg(this,0,!1,a.requestId,a.customData,!0,a.currentTime):this.l(!1,a.requestId,a.customData,
!0)}else B(T,"No itemIds to remove")};
h.Zd=function(a){a=a.data;D(T,"Queue reorder data: "+JSON.stringify(a));var b=!1,c=!1;p(a.currentItemId)&&(c=Qf(this.b,a.currentItemId));if(a.itemIds&&0<a.itemIds.length){b=this.b;var d=a.itemIds,e=a.insertBefore;if(!Rf(b,"reorderItems")&&d&&0!=d.length){var f=b.a[b.i].itemId,g=n(e)?e:-1;e=b.a.length-d.length;for(var u=[],K=-1==g?!0:!1,F=0;F<b.a.length;F++)0<=Ga(d,b.a[F].itemId)?K||b.a[F].itemId!=d[0]||(e=u.length):(u.push(b.a[F]),g==b.a[F].itemId&&(e=u.length-1,K=!0));g=[];for(K=0;K<d.length;K++){a:{for(F=
0;F<b.a.length;F++)if(d[K]==b.a[F].itemId){F=b.a[F];break a}F=null}g.push(F)}wa(La,u,e,0).apply(null,g);b.a=u;n(f)&&Qf(b,f)}b=!0}c?tg(this,0,!1,a.requestId,a.customData,b,a.currentTime):this.l(!1,a.requestId,a.customData,b)};h.addEventListener=function(a,b){H(this.j,a,b)};X.prototype.addEventListener=X.prototype.addEventListener;X.prototype.removeEventListener=function(a,b){I(this.j,a,b)};X.prototype.removeEventListener=X.prototype.removeEventListener;
X.prototype.c=function(a){a.target=this;return uc(this.j,a)};X.prototype.dispatchEvent=function(a){return this.c(a)};X.prototype.dispatchEvent=X.prototype.dispatchEvent;X.prototype.Ze=function(a){this.qd=a};X.prototype.setTrustPlayerBufferingState=X.prototype.Ze;var T=z("cast.receiver.MediaManager");
X.EventType={LOAD:"load",STOP:"stop",PAUSE:"pause",SKIP_AD:"skipad",PLAY:"play",PLAY_AGAIN:"playagain",SEEK:"seek",SET_PLAYBACK_RATE:"setplaybackrate",SET_VOLUME:"setvolume",GET_STATUS:"getstatus",EDIT_TRACKS_INFO:"edittracksinfo",EDIT_AUDIO_TRACKS:"editaudiotracks",QUEUE_LOAD:"queueload",QUEUE_INSERT:"queueinsert",QUEUE_UPDATE:"queueupdate",QUEUE_REMOVE:"queueremove",QUEUE_REORDER:"queuereorder",PRECACHE:"precache",PRELOAD:"preload",CANCEL_PRELOAD:"cancelpreload",QUEUE_GET_ITEM_RANGE:"getitemsrange",
QUEUE_GET_ITEMS:"getitemsinfo",QUEUE_GET_ITEM_IDS:"getqueueids",QUEUE_SHUFFLE:"shuffle"};var Y=function(a,b,c){G.call(this,a);this.data=b;this.senderId=c};k(Y,G);X.Event=Y;var Z=function(a){this.type=a;this.requestId=0;this.customData=this.mediaSessionId=void 0};X.RequestData=Z;var wg=function(){Z.call(this,"LOAD");this.media=new sd;this.autoplay=!1;this.currentTime=void 0;this.playbackRate=1;this.credentialsType=this.credentials=this.queueData=this.activeTrackIds=void 0};k(wg,Z);
X.LoadRequestData=wg;var ng=function(a){wg.call(this);this.type="PRELOAD";this.itemId=a};k(ng,wg);X.PreloadRequestData=ng;var xg=function(a){wg.call(this);this.type="PRECACHE";this.precacheData=a};k(xg,wg);X.PrecacheRequestData=xg;var yg=function(){Z.call(this,"SET_VOLUME");this.volume=new Cd};k(yg,Z);X.VolumeRequestData=yg;var zg=function(){Z.call(this,"EDIT_TRACKS_INFO");this.enableTextTracks=this.isSuggestedLanguage=this.textTrackStyle=this.language=this.activeTrackIds=void 0};k(zg,Z);
X.EditTracksInfoData=zg;var Ag=function(){Z.call(this,"EDIT_AUDIO_TRACKS");this.isSuggestedLanguage=this.language=void 0};k(Ag,Z);X.EditAudioTracksData=Ag;var Bg=function(){Z.call(this,"SEEK");this.resumeState=void 0;this.currentTime=0;this.relativeTime=void 0};k(Bg,Z);X.SeekRequestData=Bg;var Cg=function(){Z.call(this,"SET_PLAYBACK_RATE");this.relativePlaybackRate=this.playbackRate=void 0};k(Cg,Z);X.SetPlaybackRateRequestData=Cg;var Dg=function(){Z.call(this,"GET_STATUS");this.options=void 0};
k(Dg,Z);X.GetStatusRequestData=Dg;var Eg=function(a){Z.call(this,"QUEUE_LOAD");this.repeatMode=void 0;this.items=a;this.currentTime=this.startIndex=void 0};k(Eg,Z);X.QueueLoadRequestData=Eg;var Yf=function(a){Z.call(this,"QUEUE_INSERT");this.currentTime=this.currentItemId=this.currentItemIndex=this.insertBefore=void 0;this.items=a};k(Yf,Z);X.QueueInsertRequestData=Yf;
var hg=function(){Z.call(this,"QUEUE_UPDATE");this.shuffle=this.repeatMode=this.items=this.jump=this.currentTime=this.currentItemId=void 0};k(hg,Z);X.QueueUpdateRequestData=hg;var $f=function(a){Z.call(this,"QUEUE_REMOVE");this.currentTime=this.currentItemId=void 0;this.itemIds=a};k($f,Z);X.QueueRemoveRequestData=$f;var Fg=function(a){Z.call(this,"QUEUE_REORDER");this.insertBefore=this.currentTime=this.currentItemId=void 0;this.itemIds=a};k(Fg,Z);X.QueueReorderRequestData=Fg;
X.LoadInfo=function(a,b){this.message=a;this.senderId=b};var Gg=function(a,b,c){Z.call(this,"QUEUE_GET_ITEM_RANGE");this.itemId=a;this.nextCount=b;this.prevCount=c};k(Gg,Z);X.FetchItemsRequestData=Gg;var Hg=function(a){Z.call(this,"QUEUE_GET_ITEMS");this.itemIds=a};k(Hg,Z);X.GetItemsInfoRequestData=Hg;var Ig=function(a){this.Bd=a.La("urn:x-cast:com.google.cast.debugoverlay","JSON");this.Bd.onMessage=this.F.bind(this);this.Y=this.o=this.xb=this.bb=null;this.ja=[];this.ka=[]};Ig.prototype.F=function(a){D(Jg,"DebugOverlay: "+JSON.stringify(a.data));switch(a.data.type){case "SHOW":Kg(this);break;case "HIDE":Lg(this)}};
var Kg=function(a){a.o||a.Y||(a.ja.length=0,a.ka.length=0,a.ed(),a.o||(a.Y=window.setInterval(a.ed.bind(a),1E3)))},Lg=function(a){if(a.o||a.Y)a.bb&&(document.body.removeChild(a.bb.parentElement),a.bb=null),a.xb&&(window.clearInterval(a.xb),a.xb=null),a.o&&(I(a.o,"seeking",a.Vc,!1,a),a.o=null),a.Y&&(window.clearInterval(a.Y),a.Y=null)},Mg=function(a,b){D(Jg,"found active video");a.o=b;b=document.createElement("div");b.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;z-index:9001;-webkit-text-fill-color:black;-webkit-text-stroke-color:red;-webkit-text-stroke-width:1px;padding-left:5vw;padding-top:5vh;margin:0;font-size:24pt";
var c=document.createTextNode("");b.appendChild(c);b.id="__CAST_DEBUG_OVERLAY__";document.body.appendChild(b);a.bb=c;a.Tc();a.xb=window.setInterval(a.Tc.bind(a),1E3);H(a.o,"seeking",a.Vc,!1,a);a.Y&&(window.clearInterval(a.Y),a.Y=null)};
Ig.prototype.Tc=function(){var a=this.o;if(a&&a.src&&!a.error&&!a.ended&&1<=a.readyState){var b=a.videoWidth,c=a.videoHeight;if(0>=b||0>=c)Gb(Jg,"canceling draw because video not initialized");else{var d=0;if(a.paused||a.seeking)Gb(Jg,"not calculating fps because paused or seeking");else{d=a.webkitDecodedFrameCount;a=a.currentTime;var e=0;if(0<this.ja.length&&0<this.ka.length){var f=this.ja[0],g=this.ka[0];a>f&&d>g&&(e=(d-g)/(a-f))}this.ja.push(a);this.ka.push(d);5<=this.ja.length&&5<=this.ka.length&&
(this.ja.splice(0,this.ja.length-5),this.ka.splice(0,this.ka.length-5));d=e}b=b+"x"+c+"("+(0<d?Math.round(d).toString():"?")+")";Gb(Jg,"video is "+b);this.bb.textContent=b}}else if(Gb(Jg,"video is no longer active, restarting search procedure"),this.o||this.Y)Lg(this),Kg(this)};Ig.prototype.Vc=function(){D(Jg,"onSeeking");this.ja=[this.o.currentTime];this.ka=[this.o.webkitDecodedFrameCount]};
Ig.prototype.ed=function(){var a=function(b){for(var c=l(b.document.getElementsByTagName("video")),e=c.next();!e.done;e=c.next())if(e=e.value,e.src&&!e.error&&!e.ended&&1<=e.readyState)return e;for(c=0;c<b.frames.length;++c)try{var f=a(b.frames[c]);if(f)return f}catch(g){}return null},b=a(window);b&&Mg(this,b)};var Jg=z("cast.receiver.DebugOverlay");me=function(a){new Ig(a)};}).call(window);
